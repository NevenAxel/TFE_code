{"version":3,"sources":["code\\src\\utils.js","code\\src\\game.js","code\\src\\monsters.js","code\\src\\loot.js","code\\src\\player.js","code\\src\\swipeActions.js","code\\src\\index.js"],"names":["getRandomNumber","randomProperties","randomOne","getRandomAction","getObjectByRarity","createAvailableActions","min","max","Math","round","random","obj","keys","Object","length","args","Array","prototype","slice","call","arguments","actionList","floor","objectList","lootTable","forEach","element","rarity","i","push","player","swipeActions","availableActions","getRole","writeStats","writeRoom","getNewRoom","feedbackMessage","setRoleStats","getIntel","stats","weapon","weaponImg","defaultAttack","getStr","getAgility","console","log","document","getElementById","innerHTML","getLevel","getHp","getMaxHp","getCoin","currentRoom","img","desc","textContent","swipeLeft","text","swipeRight","monsters","loot","lootGenerator","starting","chestList","name","basicMonsterList","monsterGenerator","message","createElement","classList","add","body","appendChild","setTimeout","removeChild","wolf","wolfGenerator","rogue","rogueGenerator","gobelin","gobelinGenerator","actionsGenerator","giveCoins","attack","damage","basicChest","BasicChestGenerator","startingGenerator","actionNoDupe","generateTwoActionsNoDupe","actionLeft","actionRight","filter","action","gainLevel","hp","maxHp","coin","str","intel","agility","level","roleStats","role","thisRoom","isLastRoom","nextRoom","setHp","nbr","setMaxHp","setCoin","setStr","setIntel","setAgility","setLevel","setRole","getRoleStats","mainStats","monsterGeneral","monsterGeneralRogue","monsterGeneralMage","monsterGeneralWarrior","monsterAnimals","monsterAnimalsRogue","monsterAnimalsIntelligence","monsterSmallCreature","monsterHumanoid","monsterHumanoidRogue","monsterHumanoidAgility","wand","generateWand","sword","generateSword","bow","generateBow","hpPotion","generateHpPotion","bagOfCoins","generateBagOfCoins","spinach","generateSpinach","magicBook","generateMagicBook","speedShoes","generateSpeedShoes","dumbBell","generateDumbBell","magicmushroom","generateMagicMushroom","escape","generateEscape","scream","generateScream","feed","generateFeed","steal","generateSteal","generateAttack","generateGiveCoins","coinsGiven","require","coinsStealed","coinsGained","$","ready","card","getElementsByClassName","tracker","mc","Hammer","Pan","direction","DIRECTION_HORIZONTAL","threshold","on","handleDrag","lastPosX","lastPosY","isDragging","ev","elem","target","offsetLeft","remove","posX","deltaX","style","left","isFinal","alert"],"mappings":"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","file":"7bd5d8033a082abbee597836b698ef37.map","sourcesContent":["export function getRandomNumber(min, max) {\r\n  return min + Math.round((Math.random() * (max - min))) ;\r\n  }\r\n\r\nexport function randomProperties(obj) {\r\n    var keys = Object.keys(obj)\r\n    return obj[keys[ keys.length * Math.random() << 0]];\r\n  };\r\n\r\n\r\nexport function randomOne() {\r\n\tvar args = Array.prototype.slice.call(arguments);\r\n\treturn randomProperties(args)\r\n}\r\n\r\nexport function getRandomAction(actionList) {\r\n    return actionList[Math.floor(Math.random() * actionList.length)];\r\n  };\r\n\r\n\r\n\r\nexport function getObjectByRarity(objectList){\r\n  var lootTable = []\r\n  objectList.forEach(function(element) {\r\n    var rarity = element.rarity;\r\n    for (var i = 0; i < rarity; i++) {\r\n      lootTable.push(element);\r\n    }    \r\n  });\r\n  return lootTable[Math.floor(Math.random() * lootTable.length)];\r\n}\r\n\r\nexport function createAvailableActions(player, swipeActions, objectList){\r\n  var availableActions = []\r\n\r\n  // Mettre toutes les actions dans la liste d'action dans la liste availableActions\r\n  objectList.forEach(function(element) {\r\n    swipeActions[element].forEach(function(element) {\r\n      availableActions.push(element)\r\n    });\r\n  });\r\n\r\n  // Ajouter les actions spécifique à la classe si le joueur est de cette classe\r\n  if(player.getRole() == \"rogue\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Rogue';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"mage\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Mage';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"warrior\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Warrior';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"agility\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Agility';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"intelligence\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Intelligence';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"strenght\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Strenght';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return availableActions\r\n}","import { getObjectByRarity } from './utils';\r\nimport { getRandomNumber } from './utils';\r\n\r\nexport function writeStats(player){\r\n    switch(player.getRole()) {\r\n    case \"mage\":\r\n        player.setRoleStats(player.getIntel());\r\n        player.stats.weapon = \"wand\";\r\n        player.stats.weaponImg = \"wand.png\";\r\n        player.stats.defaultAttack = \"Lancer un sort\";\r\n        break;\r\n    case \"warrior\":\r\n        player.setRoleStats(player.getStr());\r\n        player.stats.weapon = \"sword\";\r\n        player.stats.weaponImg = \"sword.png\";\r\n        player.stats.defaultAttack = \"Donner un coup d'épée\";\r\n        break;\r\n    case \"rogue\":\r\n        player.setRoleStats(player.getAgility());\r\n        player.stats.weapon = \"bow\";\r\n        player.stats.weaponImg = \"bow.png\"\r\n        player.stats.defaultAttack = \"Tirer une flèche\";\r\n        break;\r\n    default:\r\n        console.log(\"NO Role STATS\")\r\n    }\r\n    document.getElementById(\"level\").innerHTML = player.getLevel();\r\n    document.getElementById(\"stats_hp\").innerHTML = player.getHp();\r\n    document.getElementById(\"stats_maxhp\").innerHTML = player.getMaxHp();\r\n    document.getElementById(\"stats_coins\").innerHTML = player.getCoin();\r\n    document.getElementById(\"stats_str\").innerHTML = player.getStr();\r\n    document.getElementById(\"stats_intel\").innerHTML = player.getIntel();\r\n    document.getElementById(\"stats_agility\").innerHTML = player.getAgility();\r\n    document.getElementById(\"stats_class\").innerHTML = player.getRole();\r\n\r\n  }\r\n\r\nexport function writeRoom(currentRoom){\r\n    document.getElementById(\"room_img\").innerHTML = currentRoom.img;\r\n    document.getElementById(\"room_desc\").innerHTML= currentRoom.desc;\r\n    document.getElementById(\"btn_no\").textContent = currentRoom.swipeLeft.text();\r\n    document.getElementById(\"btn_yes\").textContent = currentRoom.swipeRight.text();\r\n  }\r\n\r\nexport function getNewRoom(monsters, loot, swipeActions, player){\r\n    if (player.getLevel() === 1) {\r\n        return loot.lootGenerator.starting(player, swipeActions);\r\n    }\r\n    if (player.getLevel() % 5 === 0) {\r\n        var currentRoom = getObjectByRarity(loot.chestList);\r\n        return loot.lootGenerator[currentRoom.name](player, swipeActions);\r\n    }\r\n    else {       \r\n        var currentRoom = getObjectByRarity(monsters.basicMonsterList);\r\n        return monsters.monsterGenerator[currentRoom.name](player, swipeActions);\r\n    }\r\n}\r\n\r\nexport function feedbackMessage(message){\r\n    var feedbackMessage = document.createElement(\"div\");\r\n    feedbackMessage.classList.add(\"feedback-message\");\r\n    feedbackMessage.innerHTML = message;\r\n    document.body.appendChild(feedbackMessage);\r\n    setTimeout(function(){ document.body.removeChild(feedbackMessage); }, 5000);\r\n\r\n    /*\r\n    document.getElementById(\"feedback-message\").innerHTML = message;\r\n    document.getElementById(\"feedback-message\").style.opacity = 1;\r\n    setTimeout(function(){ document.getElementById(\"feedback-message\").style.opacity = 0; }, 8000);\r\n    */\r\n}","import { getRandomNumber } from './utils';\r\nimport { getObjectByRarity } from './utils';\r\nimport { createAvailableActions } from './utils';\r\nimport { feedbackMessage } from './game';\r\n\r\nexport default {\r\n  basicMonsterList : [\r\n    {name: 'wolf', rarity: 0},\r\n    {name: 'rogue', rarity: 2},\r\n    {name: 'gobelin', rarity: 0},\r\n  ],\r\n\r\n  monsterGenerator : {\r\n    wolf: wolfGenerator,\r\n    rogue: rogueGenerator,\r\n    gobelin: gobelinGenerator,\r\n  }\r\n}\r\n\r\nfunction rogueGenerator(player, swipeActions) {\r\n  var name = 'voleur';\r\n  var img = 'voleur.png';\r\n  var desc = \"Donne moi des pièces ou je te tue!\";\r\n  var swipeLeft = swipeActions.actionsGenerator.giveCoins(player);\r\n  var swipeRight = swipeActions.actionsGenerator.attack(player);\r\n\r\n  return {\r\n    name: name,\r\n    desc: desc,\r\n    img: img, \r\n    swipeLeft: swipeLeft,\r\n    swipeRight: swipeRight,\r\n  }\r\n}\r\n\r\n\r\nfunction wolfGenerator(player, swipeActions) {\r\n  var name = 'loup sauvage';\r\n  var img = 'wolf.png';\r\n  var desc = \"Wouaf wouaf!\";\r\n  var availableActions = createAvailableActions(player, swipeActions,[\r\n    'monsterGeneral',\r\n    'monsterAnimals',\r\n  ]);\r\n  var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player);\r\n  var swipeRight = swipeActions.actionsGenerator.attack(player);\r\n  // Exceptions \r\n\r\n  if(swipeLeft.name == \"scream\"){\r\n    var desc = \"*feared* wouaf wouaf!\";\r\n    swipeLeft.damage = 2;\r\n  }\r\n\r\n  return {\r\n    name: name,\r\n    desc: desc,\r\n    img: img, \r\n    swipeLeft: swipeLeft,\r\n    swipeRight: swipeRight,\r\n  }\r\n}\r\n/*\r\n    Monstre zombie : si tu lui suce le sang (si ton perso est devenu un vampire)\r\n    tu perds de la vie, tu attrappe une maladie(prendre du dmg sur plusieurs tour)\r\n\r\n    possibilité d'apprendre des nouvelles aptitudes au près de personnage divers\r\n\r\n    ce serait une bonne idée de ne pas avoir le choix de droit lock sur une action!\r\n    --> mettre en point un algorithme qui permet d'avoir toujours 2 choix sensé ?\r\n    --> peut être juste deux type d'action, les actions attaques (à droite)\r\n    --> et les actions plus funky à gauche\r\n\r\n*/\r\n\r\nfunction gobelinGenerator(player, swipeActions) {\r\n  var name = 'Petit gobelin';\r\n  var img = 'gobelin.png';\r\n  var desc = \"Je suis sur que tu as pleins de pièces d'or sur toi!\";\r\n  var availableActions = createAvailableActions(player, swipeActions,[\r\n    'monsterGeneral',\r\n    'monsterHumanoid',\r\n  ]);\r\n  var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player);\r\n  var swipeRight = swipeActions.actionsGenerator.attack(player);\r\n  // Exceptions \r\n\r\n  return {\r\n    name: name,\r\n    desc: desc,\r\n    img: img, \r\n    swipeLeft: swipeLeft,\r\n    swipeRight: swipeRight,\r\n  }\r\n}\r\n\r\n/*\r\nfunction gobelinGenerator(swipeActions, player) {\r\n  return {\r\n    name: 'Petit gobelin',\r\n    desc:function () {return \"* Il ne vous a pas encore vu *\"}, \r\n    img:'gobelin.png', \r\n    swipeRight: swipeActions.monsters.attack(player, 3),\r\n    swipeLeft: gobelinGeneratorSwipeLeft(swipeActions, player)\r\n    \r\n  }\r\n}\r\nfunction gobelinGeneratorSwipeLeft(swipeActions, player) {\r\n  var availableActions = [\r\n        swipeActions.monsters.escape(player, 5, 8),\r\n        swipeActions.monsters.scream(player, 4, 12),\r\n      ];\r\n      if (player.getAgility() > 10){\r\n        availableActions.push(swipeActions.monsters.steal(player, 5, 10))\r\n      }\r\n      return randomProperties(availableActions);\r\n}\r\n*/\r\n/*\r\n\r\n    est ce qu'on met un systeme de vie au monstres ?? si oui comment ça fonctionne?\r\n    avec des action dans le genre nourrir, caresser l'animal, crier etc.\r\n    est ce que les dmg du monstre seraient indiquer sur la carte (bof, bof..)\r\n    \r\n    Scenario:\r\n    - on commence dans une auberge\r\n    - un personnage nous parle d'un trésor qui rend immortel caché dans la forêt\r\n    - grosse partie de dialogue\r\n    - finalement on décide de partir à la recherche du trésor\r\n    - que prendre pour partir à l'aventure (un arc, une épée ou un baton magique?)\r\n    - aller dans la forêt maudite où pourrait trouver le fameux trésor\r\n    - On peut passer par différentes zone, le chemin feuillu ou le chemin aux arbres morts\r\n    - puis après quelqu'un indique la direction du trésor, dans une grotte par exemple\r\n    - le perso rentre dans la grotte pour y trouver le fameux trésor\r\n\r\n*/\r\n\r\n/*\r\nfunction hugeOgreGenerator(swipeActions, player) {\r\n  return {\r\n    name: 'Ogre gigantesque',\r\n    desc:function () {return 'Viens, rapproche toi...'}, \r\n    img:'Ogre.png', \r\n    swipeRight: swipeActions.monsters.attack(player, 5),\r\n    swipeLeft: randomOne(\r\n      swipeActions.monsters.escape(player, 10, 2),\r\n    ),\r\n  }\r\n}\r\n\r\nfunction gobelinGenerator(swipeActions, player) {\r\n  return {\r\n    name: 'Petit gobelin',\r\n    desc:function () {return \"* Il ne vous a pas encore vu *\"}, \r\n    img:'gobelin.png', \r\n    swipeRight: swipeActions.monsters.attack(player, 3),\r\n    swipeLeft: gobelinGeneratorSwipeLeft(swipeActions, player)\r\n    \r\n  }\r\n}\r\nfunction gobelinGeneratorSwipeLeft(swipeActions, player) {\r\n  var availableActions = [\r\n        swipeActions.monsters.escape(player, 5, 8),\r\n        swipeActions.monsters.scream(player, 4, 12),\r\n      ];\r\n      if (player.getAgility() > 10){\r\n        availableActions.push(swipeActions.monsters.steal(player, 5, 10))\r\n      }\r\n      return randomProperties(availableActions);\r\n}\r\n*/","import { randomProperties } from './utils';\r\nimport { getRandomAction } from './utils';\r\nimport { getObjectByRarity } from './utils';\r\n\r\nexport default {\r\n  chestList : [\r\n    {name: 'basicChest', rarity: 100},\r\n  ],\r\n\r\n  lootGenerator: {\r\n    basicChest: BasicChestGenerator,\r\n    starting: startingGenerator,\r\n  },\r\n};\r\n\r\n\r\nfunction BasicChestGenerator(player, swipeActions) {\r\n  var name = \"coffre\";\r\n  var desc = \"Il y a deux objets dans ce coffre, lequel utiliser ?\";\r\n  var img = \"coffre.png\";\r\n\r\n  var availableActions = swipeActions.basicChest;\r\n  var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n  var swipeLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player);\r\n  var swipeRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player);\r\n  return {\r\n    name: name,\r\n    desc: desc, \r\n    img: img, \r\n    swipeLeft: swipeLeft,\r\n    swipeRight: swipeRight,\r\n  }\r\n}\r\n\r\nfunction startingGenerator(player, swipeActions) {\r\n  var name = 'Garde du donjon';\r\n  var desc = 'Equipe toi aventurier';\r\n  var img = 'dungeonGuard.png';\r\n\r\n  var availableActions = swipeActions.starting;\r\n  var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n  var actionLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player);\r\n  var actionRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player);\r\n  return {\r\n    name: name,\r\n    desc: desc, \r\n    img: img,\r\n    swipeLeft: actionLeft,\r\n    swipeRight: actionRight,\r\n  }\r\n}\r\n\r\nfunction generateTwoActionsNoDupe(availableActions) {\r\n  var actionLeft = getObjectByRarity(availableActions);\r\n  var actionRight = getObjectByRarity(availableActions.filter(function(action) { return action.name !== actionLeft.name }));\r\n  return [actionLeft, actionRight];\r\n}","import { getRandomNumber } from './utils';\n\nexport default {\n  stats: {\n    hp: 20,\n    maxHp: 20,\n    coin: 20,\n    str: getRandomNumber(3, 7),\n    intel: getRandomNumber(3, 7),\n    agility: getRandomNumber(3, 7),\n    level: 1,\n    roleStats: 5,\n    role: \"none\",\n    weapon: \"sword\",\n    weaponImg: \"sword.png\",\n    defaultAttack: \"Attaquer\",\n  },  \n  thisRoom: {\n    isLastRoom: true,\n    nextRoom: function() {console.log(\"newRoom\")},\n  },\n  setHp: function(nbr, player) {\n    if(nbr > player.getMaxHp()){\n      this.stats.hp = player.getMaxHp();\n    }\n    else{\n      this.stats.hp = nbr;\n    }  \n  },\n  getHp: function() {\n    return this.stats.hp;\n  },\n  setMaxHp: function(nbr) {\n    this.stats.maxHp = nbr;\n  },\n  getMaxHp: function() {\n    return this.stats.maxHp;\n  },\n  setCoin: function(nbr) {\n    this.stats.coin = nbr;\n  },\n  getCoin: function() {\n    return this.stats.coin;\n  },\n  setStr: function(nbr) {\n    this.stats.str = nbr;\n  },\n  getStr: function() {\n    return this.stats.str;\n  },\n  setIntel: function(nbr) {\n    this.stats.intel = nbr;\n  },\n  getIntel: function() {\n    return this.stats.intel;\n  },\n  setAgility: function(nbr) {\n    this.stats.agility = nbr;\n  },\n  getAgility: function() {\n    return this.stats.agility;\n  },\n  setLevel: function(nbr) {\n    this.stats.level = nbr;\n  },\n  getLevel: function() {\n    return this.stats.level;\n  },\n  setRole: function(role) {\n    this.stats.role = role;\n  },\n  getRole: function() {\n    return this.stats.role;\n  },\n  setRoleStats: function(nbr) {\n    this.stats.roleStats = nbr;\n  },\n  getRoleStats: function() {\n    return this.role.mainStats;\n  },\n};\n\nexport function gainLevel(player) { player.setLevel(player.getLevel() + 1); }","import { getRandomNumber } from './utils';\r\nimport { feedbackMessage } from './game';\r\n\r\n// -------------------------------- EXPORT DEFAULT -------------------------------------------------- //\r\n\r\nexport default {\r\n  monsterGeneral: [\r\n  \t{name: 'escape', rarity: 1},\r\n  ],\r\n  monsterGeneralRogue: [\r\n  \t{name: 'escape', rarity: 1},\r\n  ],\r\n  monsterGeneralMage: [\r\n  \t//{name: 'fireball', rarity: 1},\r\n  ],\r\n  monsterGeneralWarrior: [\r\n  \t//{name: 'block', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterAnimals: [\r\n  \t{name: 'scream', rarity: 1},\r\n  \t{name: 'feed', rarity: 1},\r\n  \t//{name: 'pet', rarity: 1},\r\n  ],\r\n  monsterAnimalsRogue: [\r\n  \t//{name: 'trap', rarity: 1},\r\n  ],\r\n  monsterAnimalsIntelligence: [\r\n  \t{name: 'feed', rarity: 1},\r\n  \t//{name: 'pet', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterSmallCreature: [\r\n  \t{name: 'scream', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterHumanoid: [\r\n  ],\r\n  monsterHumanoidRogue: [\r\n  \t{name: 'steal', rarity: 2},\r\n  ],\r\n  monsterHumanoidAgility: [\r\n  \t{name: 'steal', rarity: 1},\r\n  ],\r\n\r\n\r\n  basicChest: [\r\n  \t{name: 'hpPotion', rarity: 10},\r\n  \t{name: 'bagOfCoins', rarity: 10},\r\n  \t{name: 'spinach', rarity: 1},\r\n  \t{name: 'magicBook', rarity: 1},\r\n  \t{name: 'speedShoes', rarity: 1},\r\n  \t{name: 'dumbBell', rarity: 1},\r\n  \t{name: 'magicmushroom', rarity: 5},\r\n  ],\r\n\r\n  starting: [\r\n  \t//{name: 'wand', rarity: 1},\r\n  \t{name: 'sword', rarity: 1},\r\n  \t{name: 'bow', rarity: 1},\r\n  ],\r\n\r\n  actionsGenerator: {\r\n  \twand: generateWand,\r\n  \tsword: generateSword,\r\n  \tbow: generateBow,\r\n\r\n\r\n  \thpPotion: generateHpPotion,\r\n  \tbagOfCoins: generateBagOfCoins,\r\n  \tspinach: generateSpinach,\r\n  \tmagicBook: generateMagicBook,\r\n  \tspeedShoes: generateSpeedShoes,\r\n  \tdumbBell: generateDumbBell,\r\n  \tmagicmushroom: generateMagicMushroom,\r\n\r\n  \tescape: generateEscape,\r\n  \tscream: generateScream,\r\n  \tfeed: generateFeed,\r\n  \tsteal: generateSteal,\r\n\r\n  \tattack: generateAttack,\r\n  \tgiveCoins: generateGiveCoins,\r\n  }\r\n  /*\r\n  Faire des actions complexes (en plusieurs cartes)\r\n  ça rend les actions plus intéressantes que d'avoir \r\n  une seule réponse (50% de chance de réussite et c'est tout)\r\n\r\n  Et fonctionner avec plus d'actions typique à la classe\r\n\r\n  certaines actions peuvent loot un objet certaine non\r\n  (s'echapper ne permettra pas de loot d'objet)\r\n  les loot sont en général des choix entre deux objets\r\n  certaines actions finissent le combat, d'autres pas.\r\n  Voler des pièces en voleur ne finit pas le combat?\r\n  Quand une action rate ça ne finit pas le combat?\r\n  \r\n\r\n  Action \"préparer son armure\"\r\n  prend du dmg maintenant mais pas la prochaine carte\r\n  ou donne un certain nombre d'armure\r\n\r\n  action \"coup de bouclier\"\r\n  si on a de l'armure a beaucoup de chance d'arriver\r\n  et permet de ne pas prendre de dmg\r\n\r\n  classe guerrier passif: berserk, si le guerrier a moins de 20% de pv\r\n  il se passe quelqueschose, plus de dmg, accès à d'autres abilité\r\n\r\n  Objet bière : gagner 10pv mais rend les 5 prochaines actions aléateoire\r\n\r\n  \r\n  */\r\n};\r\n\r\n// -------------------------------- ACTIONS_FUNCTIONS ------------------------------------------- //\r\n\r\nfunction generateWand(player){\r\n\treturn {\r\n\t\tname: \"wandstart\",\r\n\t\ttext: function () {return \"Prendre le baton magique\"},\r\n\t\timg: function () {return \"wand.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('mage')\r\n\t\t\tplayer.setIntel(\r\n\t\t\t\tplayer.getIntel() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSword(player){\r\n\treturn {\r\n\t\tname: \"swordstart\",\r\n\t\ttext: function () {return \"Prendre l'epée\"},\r\n\t\timg: function () {return \"epee.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('warrior')\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setMaxHp(\r\n\t\t\t\tplayer.getMaxHp() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateBow(player){\r\n\treturn {\r\n\t\tname: \"bowstart\",\r\n\t\ttext: function () {return \"Prendre l'arc\"},\r\n\t\timg: function () {return \"arc.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('rogue')\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\n// -------------------------------- MONSTERS ------------------------------------------------------------------------------------------ //\r\n// -------------------------------- MONSTERS ------------------------------------------------------------------------------------------ //\r\n// -------------------------------- MONSTERS ------------------------------------------------------------------------------------------ //\r\n\r\n\r\nfunction generateAttack(player){\r\n\treturn {\r\n\t\tname: \"attack\",\r\n\t\tdamage: 3,\r\n\t\ttext: function () {return player.stats.defaultAttack},\r\n\t\timg: function () {return player.stats.weaponImg},\r\n\t\taction: function() {\r\n\t\t\tswitch(player.getRole()) {\r\n\t\t\t    case \"mage\":\r\n\t\t\t        player.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n\t\t\t        break;\r\n\t\t\t    case \"warrior\":\r\n\t\t\t        player.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n\t\t\t        break;\r\n\t\t\t    case \"rogue\":\t\t        \r\n\t\t\t        if(Math.random() < 0.45){\r\n\t\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\t\tplayer.getHp() - this.damage * 2, player\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tfeedbackMessage(\"Vous avez raté votre cible\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tfeedbackMessage(\"Touché!\")\r\n\t\t\t\t\t}\r\n\t\t\t        break;\r\n\t\t\t    default:\r\n        \t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n    \t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateGiveCoins(player){\r\n  \treturn {\r\n  \t\tname: \"givecoins\",\r\n  \t\tcoinsGiven: getRandomNumber(1, 2),\r\n\t\ttext: function () {return \"Donner \" + this.coinsGiven + \" pièces\"},\r\n\t\timg: function () {return \"giveCoins.png\"},\r\n\t\taction: function () {\r\n\t\t\tif (player.getCoin() - this.coinsGiven < 0){\r\n\t\t\t\tfeedbackMessage(\"N'ESSAYER PAS DE M'ARNAQUER J'AI VU QUE VOUS N'AVIEZ PAS ASSEZ!\");\r\n\t\t\t\tplayer.setCoin(0);\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 10, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(this.coinsGiven == 1){\r\n\t\t\t\tfeedbackMessage(\"Seulement une pièce ? Tu te fout de moi ?!\");\r\n\t\t\t\t// nouveau dialogue, avec comme réponses \"heuu non\" ou \"tien prend ces pièces en plus\"\r\n\t\t\t\tplayer.thisRoom.isLastRoom = false;\t\t\r\n\t\t\t\tplayer.thisRoom.nextRoom = \"la suite du dialogue\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\tplayer.getCoin() - this.coinsGiven\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateScream(player){\r\n  \treturn {\r\n  \t\tname: \"scream\",\r\n\t\trequire: 10,\r\n\t\tdamage: 5,\r\n\t\ttext: function () {return \"Crier pour l'effrayer\"},\r\n\t\timg: function () {return \"scream.png\"},\r\n\t\taction: function() {\r\n\t\t\tif (player.getStr() >= this.require) {\r\n\t\t\t\tfeedbackMessage(\"L'ennemi a eu peur et s'est enfuis en courant\")\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(\"Votre cris n'est pas assez fort, gagnez un peu plus de force!\")\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateEscape(player){\r\n  \treturn {\r\n  \t\tname: \"escape\",\r\n\t\ttext: function () {return \"S'echapper\"},\r\n\t\timg: function () {return \"escape.png\"},\r\n\t\taction: function() {\r\n\t\t\tif (player.getAgility() >= 5) {\r\n\t\t\t\tif(Math.random() < 0.3 * 5 / player.getAgility()){\r\n\t\t\t\t\tfeedbackMessage('Pas de chance, vous avez trébucher sur une pierre')\r\n\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - 3, player\r\n\t\t\t\t\t);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfeedbackMessage(\"Vous vous êtes enfuis avec succes\")\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(\"Vous n'êtes pas assez rapide! Ouch!\")\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 3, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateFeed(player){\r\n  \treturn {\r\n  \t\tname: \"feed\",\r\n\t\ttext: function () {return \"Nourrir l'animal\"},\r\n\t\timg: function () {return \"feed.png\"},\r\n\t\taction: function() {\r\n\t\t\tif(player.getAgility() <= 5){\r\n\t\t\t\tfeedbackMessage(\"Maladroit comme vous l'êtes, vous êtes tombé sur l'animal en le nourissant, il vous a attaqué\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(player.getIntel() <= 5){\r\n\t\t\t\tfeedbackMessage(\"Vous avez oublié de retirer votre main, l'animal l'a mangé, essayez d'être plus intelligent\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage('Il a tout mangé et ne vous a pas attaqué');\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSteal(player){\r\n\tvar coinsStealed = getRandomNumber(3, 10);\r\n  \treturn {\r\n  \t\tname: \"steal\",\r\n\t\ttext: function () {return \"Steal \" + coinsStealed + \" coins\"},\r\n\t\timg: function () {return \"steal.png\"},\r\n\t\taction: function() {\r\n\t\t\tif(Math.random() < 0.4 * 10 / player.getAgility()){\r\n\t\t\t\tfeedbackMessage('Vous avez été pris sur le fait')\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 3, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfeedbackMessage(\"Cool, \" + coinsStealed + \" pièces recuperées\")\r\n\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\tplayer.getCoin() + coinsStealed\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\n// -----------\r\n\r\n// -------------------------------- LOOT ------------------------------------------------------------------------------------------ //\r\n// -------------------------------- LOOT ------------------------------------------------------------------------------------------ //\r\n// -------------------------------- LOOT ------------------------------------------------------------------------------------------ //\r\n\r\nfunction generateHpPotion(player){\r\n  \treturn {\r\n  \t\tname: \"hppotion\",\r\n\t\ttext: function () {return \"Prendre la potion (+5 Hp)\"},\r\n\t\timg: function () {return \"hpPotion.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateMagicMushroom(player){\r\n  \treturn {\r\n  \t\tname: \"magicmushroom\",\r\n\t\ttext: function () {return \"Prendre le champignon magique (+5 MaxHp\"},\r\n\t\timg: function () {return \"champignon.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setMaxHp(\r\n\t\t\t\tplayer.getMaxHp() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateBagOfCoins(player){\r\n\tvar coinsGained = getRandomNumber(3, 6);\r\n  \treturn {\r\n  \t\tname: \"bagofcoins\",\r\n\t\ttext: function () {return \"Prendre le sac de pièces (\" + coinsGained + \" pièces)\" },\r\n\t\timg: function () {return \"coinsBag.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setCoin(\r\n\t\t\t\tplayer.getCoin() + coinsGained\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSpinach(player){\r\n  \treturn {\r\n  \t\tname: \"spinach\",\r\n\t\ttext: function () {return \"Prendre les épinards (+2 Hp + 2 Force\"},\r\n\t\timg: function () {return \"spinach.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 2, player\r\n\t\t\t);\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 2\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateMagicBook(player){\r\n  \treturn {\r\n  \t\tname: \"magicbook\",\r\n\t\ttext: function () {return \"Prendre le livre sur la magie (+5 Intel)\"},\r\n\t\timg: function () {return \"magicBook.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setIntel(\r\n\t\t\t\tplayer.getIntel() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSpeedShoes(player){\r\n  \treturn {\r\n  \t\tname: \"speedshoes\",\r\n\t\ttext: function () {return \"Prendre les chaussures (+3 Agilité)\"},\r\n\t\timg: function () {return \"speedShoes.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() + 3\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateDumbBell(player){\r\n  \treturn {\r\n  \t\tname: \"dumbbell\",\r\n\t\ttext: function () {return \"Prendre l'altère et faire quelques répetitions (+5 Force)\"},\r\n\t\timg: function () {return \"DumbBell.png\"},\r\n\t\taction: function() {\r\n\t\t\tif(player.getIntel() >= 5){\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 5\r\n\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(Math.random() < 0.7){\r\n\t\t\t\t\tfeedbackMessage(\"Vous n'êtes pas assez intelligent pour porter l'altère, vous vous êtes blaissé\")\r\n\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tplayer.setStr(\r\n\t\t\t\t\t\tplayer.getStr() + 5\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\n\r\n\r\n","import monsters from './monsters';\nimport loot from './loot';\nimport player from './player';\nimport swipeActions from './swipeActions';\n\nimport { randomProperties } from './utils';\n\nimport { writeStats } from './game';\nimport { writeRoom } from './game';\nimport { getNewRoom } from './game';\n\nimport { gainLevel } from './player';\n\n$(document).ready(function(){\n\n\tvar currentRoom = getNewRoom(monsters, loot, swipeActions, player);\n\twriteStats(player);\n\twriteRoom(currentRoom);\n\tconsole.log(player);\n\n\n\tvar card = document.getElementsByClassName('card-visible')[0];\n\tvar tracker = document.getElementById('card-tracker');\n\tvar mc = new Hammer(tracker);\n\n\t// add a \"PAN\" recognizer to it (all directions)\n\tmc.add( new Hammer.Pan({ direction: Hammer.DIRECTION_HORIZONTAL, threshold: 20 }) );\n\n\t// tie in the handler that will be called\n\tmc.on(\"pan\", handleDrag);\n\n\tvar lastPosX = 0;\n\tvar lastPosY = 0;\n\tvar isDragging = false;\n\tfunction handleDrag(ev) {\n\t  \n\t  // for convience, let's get a reference to our object\n\t  var elem = ev.target;\n\t  \n\t  // DRAG STARTED\n\t  // here, let's snag the current position\n\t  // and keep track of the fact that we're dragging\n\t  if ( ! isDragging ) {\n\t    isDragging = true;\n\t    lastPosX = elem.offsetLeft;  \n\t  }\n\t  \n\t   if (elem.offsetLeft > 50) {\n\t      card.classList.add(\"yes\");\n\t      card.classList.remove(\"no\");\n\t  }\n\t  else if (elem.offsetLeft < -50) {\n\t      card.classList.add(\"no\");\n\t      card.classList.remove(\"yes\");\n\t  }\n\t  else{\n\t    card.classList.remove(\"yes\");\n\t    card.classList.remove(\"no\");\n\t  }\n\t  \n\t  // we simply need to determine where the x,y of this\n\t  // object is relative to where it's \"last\" known position is\n\t  // NOTE: \n\t  //    deltaX and deltaY are cumulative\n\t  // Thus we need to always calculate 'real x and y' relative\n\t  // to the \"lastPosX/Y\"\n\t  var posX = ev.deltaX + lastPosX;\n\t  \n\t  // move our element to that position\n\t  elem.style.left = posX + \"px\";\n\t  \n\t \n\t  \n\t  // DRAG ENDED\n\t  // this is where we simply forget we are dragging\n\t  if (ev.isFinal) {\n\t    isDragging = false;\n\t    \n\t    if (elem.offsetLeft > 50) {\n\t      elem.style.left = 0 + \"px\";\n\t      card.classList.add(\"yesFade\");\n\t      card.classList.remove(\"noFade\");\n\t      setTimeout(function(){ card.classList.remove(\"yesFade\"); card.classList.remove(\"yes\"); }, 500);\n\t      \tcurrentRoom.swipeRight.action();\n\t\t\tgainLevel(player);\n\t\t\tcurrentRoom = getNewRoom(monsters, loot, swipeActions, player);\t\t\n\t\t\twriteStats(player);\n\t\t\twriteRoom(currentRoom);  \n\t    }\n\t    else if (elem.offsetLeft < -50) {\n\t      elem.style.left = 0 + \"px\"; \n\t      card.classList.add(\"noFade\");\n\t      card.classList.remove(\"yesFade\");\n\t      setTimeout(function(){ card.classList.remove(\"noFade\"); card.classList.remove(\"no\"); }, 500);\n\t      \tcurrentRoom.swipeLeft.action();\n\t      \tif(player.thisRoom.isLastRoom == false){\n\t      \t\talert('Generate the next dialogue here');\n\t      \t/*\n\t      \t\tcurrentRoom = currentRoom.nextRoom;\n\t      \t\twriteStats(player);\n\t      \t\twriteRoom(currentRoom);\t\n\t      \t*/\n\t\t    }\n\t    \telse{\n\t    \t\tgainLevel(player);\n\t\t    \tcurrentRoom = getNewRoom(monsters, loot, swipeActions, player);\n\t\t    \twriteStats(player);\n\t\t    \twriteRoom(currentRoom);\t\n\t    \t}\n\t    }\n\t    else{\n\t      elem.style.left = 0 + \"px\";\n\t      card.classList.remove(\"yesFade\");\n\t      card.classList.remove(\"noFade\");\n\t    }\n\t  }\n\t}\n});\n\n\n\n\n\n\n\n\n\n\n\n\n/*\nconsole.log('current room: ', currentRoom);\n\ncurrentRoom.swipeLeft.action();\n\nconsole.log('player:', player);\n*/"]}