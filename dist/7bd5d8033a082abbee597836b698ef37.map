{"version":3,"sources":["code\\src\\utils.js","code\\src\\game.js","code\\src\\actions\\actionsLoots.js","code\\src\\actions\\actionsMonsters.js","code\\src\\actions\\actionsStarting.js","code\\src\\actions\\actionsMushroom.js","code\\src\\actions\\actionsFrog.js","code\\src\\swipeActions.js","code\\src\\rooms\\forestMonster.js","code\\src\\rooms\\forestLoot.js","code\\src\\rooms\\startingroom.js","code\\src\\rooms\\monsters.js","code\\src\\rooms\\chest.js","code\\src\\room.js","code\\src\\player.js","code\\src\\index.js"],"names":["getRandomNumber","randomProperties","shuffle","getRandomArray","getObjectByRarity","generateTwoActionsNoDupe","createAvailableActions","min","max","Math","round","random","obj","keys","Object","length","a","i","j","floor","arrayList","objectList","lootTable","forEach","element","rarity","push","availableActions","actionLeft","actionRight","filter","action","name","player","swipeActions","getRole","actionList","getAgility","getIntel","getStr","writeStats","writeRoom","getNewRoom","feedbackMessage","gameOver","setRoleStats","stats","weapon","weaponImg","defaultAttack","console","log","document","getElementById","innerHTML","getLevel","getHp","getMaxHp","getCoin","currentRoom","style","backgroundImage","img","charAt","toUpperCase","slice","desc","textContent","swipeLeft","text","swipeRight","room","roomGenerator","starting","forestLootList","forestMonsterList","message","thisRoom","isLastRoom","nextRoom","display","deathMessage","alive","level","retry","window","location","reload","addEventListener","setTimeout","getElementsByClassName","classList","add","opacity","generateHpPotion","generateBagOfCoins","generateSpinach","generateMagicBook","generateSpeedShoes","generateDumbBell","setHp","generateMagicMushroom","setMaxHp","coinsGained","setCoin","setStr","setIntel","setAgility","generateAttack","generateGiveCoins","generateScream","generateEscape","generateFeed","generateSteal","damage","coinsGiven","coinsGiven2","actionsGenerator","attack","require","coinsStealed","generateWand","generateSword","generateBow","setRole","generateNoEat","generateToxicMushroom","generateSleepMushroom","generateStupidMushroom","generateAgilityMushroom","generateYummyMushroom","generateKillFrog","generateFeedFrog","generateTalkFrog","generateKissFrog","generateEatFrog","special","frogHater","frogFriend","frogregular_svg","monsterGeneral","monsterGeneralRogue","monsterGeneralMage","monsterGeneralWarrior","monsterAnimals","monsterAnimalsRogue","monsterAnimalsIntelligence","monsterSmallCreature","monsterHumanoid","monsterHumanoidRogue","monsterHumanoidAgility","basicChest","mushroom","frog","wand","sword","bow","toxicMushroom","sleepMushroom","stupidMushroom","magicMushroom","agilityMushroom","yummyMushroom","eatFrog","kissFrog","talkFrog","feedFrog","killFrog","hpPotion","bagOfCoins","spinach","magicBook","speedShoes","dumbBell","escape","scream","feed","steal","noEat","giveCoins","rogueGenerator","wolfGenerator","spiderGenerator","gobelinGenerator","frogGenerator","actionNoDupe","mushrooms","basicChestGenerator","mushroomGenerator","startingGenerator","hugeOgreGenerator","descF","shroom","wolf","rogue","gobelin","spider","ogre","gainLevel","hp","maxHp","coin","str","intel","agility","roleStats","role","nbr","width","remove","setLevel","getRoleStats","mainStats","$","ready","card","cardback","tracker","mc","Hammer","Pan","direction","DIRECTION_HORIZONTAL","threshold","on","handleDrag","lastPosX","lastPosY","isDragging","ev","elem","target","offsetLeft","posX","deltaX","left","isFinal","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAgBA,kBAAAA;QAIAC,mBAAAA;QAKAC,UAAAA;QAQAC,iBAAAA;QAMAC,oBAAAA;QAWAC,2BAAAA;QAMAC,yBAAAA;AAxCT,SAASN,eAAT,CAAyBO,GAAzB,EAA8BC,GAA9B,EAAmC;AACxC,SAAOD,MAAME,KAAKC,KAAL,CAAYD,KAAKE,MAAL,MAAiBH,MAAMD,GAAvB,CAAZ,CAAb;AACC;;AAEI,SAASN,gBAAT,CAA0BW,GAA1B,EAA+B;AAClC,MAAIC,OAAOC,OAAOD,IAAP,CAAYD,GAAZ,CAAX;AACA,SAAOA,IAAIC,KAAMA,KAAKE,MAAL,GAAcN,KAAKE,MAAL,EAAd,IAA+B,CAArC,CAAJ,CAAP;AACD;;AAEI,SAAST,OAAT,CAAiBc,CAAjB,EAAoB;AACvB,OAAK,IAAIC,IAAID,EAAED,MAAF,GAAW,CAAxB,EAA2BE,IAAI,CAA/B,EAAkCA,GAAlC,EAAuC;AACnC,QAAMC,IAAIT,KAAKU,KAAL,CAAWV,KAAKE,MAAL,MAAiBM,IAAI,CAArB,CAAX,CAAV;AADmC,eAEpB,CAACD,EAAEE,CAAF,CAAD,EAAOF,EAAEC,CAAF,CAAP,CAFoB;AAElCD,MAAEC,CAAF,CAFkC;AAE5BD,MAAEE,CAAF,CAF4B;AAGtC;AACD,SAAOF,CAAP;AACH;;AAEM,SAASb,cAAT,CAAwBiB,SAAxB,EAAmC;AACtC,SAAOA,UAAUX,KAAKU,KAAL,CAAWV,KAAKE,MAAL,KAAgBS,UAAUL,MAArC,CAAV,CAAP;AACH;;AAIM,SAASX,iBAAT,CAA2BiB,UAA3B,EAAsC;AAC3C,MAAIC,YAAY,EAAhB;AACAD,aAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,QAAIC,SAASD,QAAQC,MAArB;AACA,SAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAIQ,MAApB,EAA4BR,GAA5B,EAAiC;AAC/BK,gBAAUI,IAAV,CAAeF,OAAf;AACD;AACF,GALD;AAMA,SAAOF,UAAUb,KAAKU,KAAL,CAAWV,KAAKE,MAAL,KAAgBW,UAAUP,MAArC,CAAV,CAAP;AACD;;AAEM,SAASV,wBAAT,CAAkCsB,gBAAlC,EAAoD;AACzD,MAAIC,aAAaxB,kBAAkBuB,gBAAlB,CAAjB;AACA,MAAIE,cAAczB,kBAAkBuB,iBAAiBG,MAAjB,CAAwB,UAASC,MAAT,EAAiB;AAAE,WAAOA,OAAOC,IAAP,KAAgBJ,WAAWI,IAAlC;AAAwC,GAAnF,CAAlB,CAAlB;AACA,SAAO,CAACJ,UAAD,EAAaC,WAAb,CAAP;AACD;;AAEM,SAASvB,sBAAT,CAAgC2B,MAAhC,EAAwCC,YAAxC,EAAsDb,UAAtD,EAAiE;AACtE,MAAIM,mBAAmB,EAAvB;;AAEA;AACAN,aAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnCU,iBAAaV,OAAb,EAAsBD,OAAtB,CAA8B,UAASC,OAAT,EAAkB;AAC9CG,uBAAiBD,IAAjB,CAAsBF,OAAtB;AACD,KAFD;AAGD,GAJD;;AAMA;AACA,MAAGS,OAAOE,OAAP,MAAoB,QAAvB,EAAgC;AAC9Bd,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,OAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,MAAGS,OAAOE,OAAP,MAAoB,MAAvB,EAA8B;AAC5Bd,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,MAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,MAAGS,OAAOE,OAAP,MAAoB,UAAvB,EAAkC;AAChCd,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,SAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,MAAGS,OAAOI,UAAP,KAAsB,EAAzB,EAA4B;AAC1BhB,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,SAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,MAAGS,OAAOK,QAAP,KAAoB,EAAvB,EAA0B;AACxBjB,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,cAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,MAAGS,OAAOM,MAAP,KAAkB,EAArB,EAAwB;AACtBlB,eAAWE,OAAX,CAAmB,UAASC,OAAT,EAAkB;AACnC,UAAIY,aAAaZ,UAAU,UAA3B;AACA,UAAG,OAAOU,aAAaE,UAAb,CAAP,KAAoC,WAAvC,EAAmD;AACjDF,qBAAaE,UAAb,EAAyBb,OAAzB,CAAiC,UAASC,OAAT,EAAkB;AACjDG,2BAAiBD,IAAjB,CAAsBF,OAAtB;AACD,SAFD;AAGD;AACF,KAPD;AAQD;;AAED,SAAOG,gBAAP;AACD;;;;;;;;;;;;;;;QC7Gea,aAAAA;QAiCAC,YAAAA;QAUAC,aAAAA;QAcAC,kBAAAA;QA0BAC,WAAAA;;AA5FhB;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGO,SAASJ,UAAT,CAAoBP,MAApB,EAA2B;AAC9B,YAAOA,OAAOE,OAAP,EAAP;AACA,aAAK,MAAL;AACIF,mBAAOY,YAAP,CAAoBZ,OAAOK,QAAP,EAApB;AACAL,mBAAOa,KAAP,CAAaC,MAAb,GAAsB,MAAtB;AACAd,mBAAOa,KAAP,CAAaE,SAAb,GAAyB,UAAzB;AACAf,mBAAOa,KAAP,CAAaG,aAAb,GAA6B,UAA7B;AACA;AACJ,aAAK,UAAL;AACIhB,mBAAOY,YAAP,CAAoBZ,OAAOM,MAAP,EAApB;AACAN,mBAAOa,KAAP,CAAaC,MAAb,GAAsB,OAAtB;AACAd,mBAAOa,KAAP,CAAaE,SAAb;AACAf,mBAAOa,KAAP,CAAaG,aAAb,GAA6B,UAA7B;AACA;AACJ,aAAK,QAAL;AACIhB,mBAAOY,YAAP,CAAoBZ,OAAOI,UAAP,EAApB;AACAJ,mBAAOa,KAAP,CAAaC,MAAb,GAAsB,KAAtB;AACAd,mBAAOa,KAAP,CAAaE,SAAb;AACAf,mBAAOa,KAAP,CAAaG,aAAb,GAA6B,OAA7B;AACA;AACJ;AACIC,oBAAQC,GAAR,CAAY,eAAZ;AApBJ;AAsBAC,aAASC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,GAA6CrB,OAAOsB,QAAP,EAA7C;AACAH,aAASC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,GAAgDrB,OAAOuB,KAAP,EAAhD;AACAJ,aAASC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmDrB,OAAOwB,QAAP,EAAnD;AACAL,aAASC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmDrB,OAAOyB,OAAP,EAAnD;AACAN,aAASC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,GAAiDrB,OAAOM,MAAP,EAAjD;AACAa,aAASC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmDrB,OAAOK,QAAP,EAAnD;AACAc,aAASC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,GAAqDrB,OAAOI,UAAP,EAArD;AACAe,aAASC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmDrB,OAAOE,OAAP,EAAnD;AACD;;AAEI,SAASM,SAAT,CAAmBkB,WAAnB,EAA+B;AAClCP,aAASC,cAAT,CAAwB,UAAxB,EAAoCO,KAApC,CAA0CC,eAA1C,GAA4D,SAAQF,YAAYG,GAAhF,CAAqF,CAAE,GAAF;AACrFV,aAASC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,GAAgDK,YAAY3B,IAAZ,CAAiB+B,MAAjB,CAAwB,CAAxB,EAA2BC,WAA3B,KAA2CL,YAAY3B,IAAZ,CAAiBiC,KAAjB,CAAuB,CAAvB,CAA3F;AACAb,aAASC,cAAT,CAAwB,WAAxB,EAAqCC,SAArC,GAAgDK,YAAYO,IAA5D;AACAd,aAASC,cAAT,CAAwB,aAAxB,EAAuCc,WAAvC,GAAqDR,YAAYS,SAAZ,CAAsBC,IAAtB,EAArD;AACAjB,aAASC,cAAT,CAAwB,QAAxB,EAAkCO,KAAlC,CAAwCC,eAAxC,GAA0D,SAAQF,YAAYS,SAAZ,CAAsBN,GAAtB,EAAR,GAAsC,GAAhG;AACAV,aAASC,cAAT,CAAwB,cAAxB,EAAwCc,WAAxC,GAAsDR,YAAYW,UAAZ,CAAuBD,IAAvB,EAAtD;AACAjB,aAASC,cAAT,CAAwB,SAAxB,EAAmCO,KAAnC,CAAyCC,eAAzC,GAA2D,SAAQF,YAAYW,UAAZ,CAAuBR,GAAvB,EAAR,GAAuC,GAAlG;AACD;;AAEI,SAASpB,UAAT,CAAoB6B,IAApB,EAA0BrC,YAA1B,EAAwCD,MAAxC,EAA+C;AAClD,QAAIA,OAAOsB,QAAP,OAAsB,CAA1B,EAA6B;AACzB,eAAOgB,KAAKC,aAAL,CAAmBC,QAAnB,CAA4BxC,MAA5B,EAAoCC,YAApC,CAAP;AACH;AACD,QAAID,OAAOsB,QAAP,KAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7B,YAAII,cAAc,8BAAkBY,KAAKG,cAAvB,CAAlB;AACA,eAAOH,KAAKC,aAAL,CAAmBb,YAAY3B,IAA/B,EAAqCC,MAArC,EAA6CC,YAA7C,CAAP;AACH,KAHD,MAIK;AACD,YAAIyB,cAAc,8BAAkBY,KAAKI,iBAAvB,CAAlB;AACA,eAAOJ,KAAKC,aAAL,CAAmBb,YAAY3B,IAA/B,EAAqCC,MAArC,EAA6CC,YAA7C,CAAP;AACH;AACJ;;AAEM,SAASS,eAAT,CAAyBV,MAAzB,EAAiC2C,OAAjC,EAAyC;AAC5C3C,WAAO4C,QAAP,CAAgBC,UAAhB,GAA6B,KAA7B;AACA7C,WAAO4C,QAAP,CAAgBE,QAAhB,GAA2B;AACvBX,mBAAW;AACPN,iBAAK,eAAY;AAAC;AAAqB,aADhC;AAEP/B,oBAAQ,kBAAW;AACfqB,yBAASC,cAAT,CAAwB,UAAxB,EAAoCO,KAApC,CAA0CoB,OAA1C,GAAoD,MAApD;AACA5B,yBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDoB,OAAjD,GAA2D,MAA3D;AACH,aALM;AAMPX,kBAAM,gBAAY;AAAC,uBAAO,gBAAP;AAAwB;AANpC,SADY;AASvBC,oBAAY;AACRR,iBAAK,eAAY;AAAC;AAAsB,aADhC;AAER/B,oBAAQ,kBAAW;AACfqB,yBAASC,cAAT,CAAwB,UAAxB,EAAoCO,KAApC,CAA0CoB,OAA1C,GAAoD,MAApD;AACA5B,yBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDoB,OAAjD,GAA2D,MAA3D;AACH,aALO;AAMRX,kBAAM,gBAAY;AAAC,uBAAO,gBAAP;AAAwB;AANnC;AATW,KAA3B;AAkBA,QAAI1B,kBAAkBS,SAASC,cAAT,CAAwB,MAAxB,CAAtB;AACAD,aAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDoB,OAAjD,GAA2D,OAA3D;AACA5B,aAASC,cAAT,CAAwB,UAAxB,EAAoCO,KAApC,CAA0CoB,OAA1C,GAAoD,OAApD;AACA5B,aAASC,cAAT,CAAwB,UAAxB,EAAoCC,SAApC,GAAgDsB,OAAhD;AACH;;AAEM,SAAShC,QAAT,CAAkBX,MAAlB,EAA0BgD,YAA1B,EAAuC;AAC1ChD,WAAOa,KAAP,CAAaoC,KAAb,GAAqB,KAArB;AACA9B,aAASC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,GAAwD2B,YAAxD;AACA7B,aAASC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAoDrB,OAAOa,KAAP,CAAaqC,KAAjE;AACA/B,aAASC,cAAT,CAAwB,cAAxB,EAAwCO,KAAxC,CAA8CoB,OAA9C,GAAwD,MAAxD;AACA,aAASI,KAAT,GAAgB;AACZC,eAAOC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH;AACDnC,aAASC,cAAT,CAAwB,gBAAxB,EAA0CmC,gBAA1C,CAA2D,OAA3D,EAAoEJ,KAApE;AACA,QAAGhC,SAASC,cAAT,CAAwB,UAAxB,EAAoCO,KAApC,CAA0CoB,OAA1C,IAAqD,MAAxD,EAA+D;AAC3DS,mBAAW,YAAU;AACjBrC,qBAASsC,sBAAT,CAAgC,UAAhC,EAA4C,CAA5C,EAA+CC,SAA/C,CAAyDC,GAAzD,CAA6D,IAA7D;AACAxC,qBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDoB,OAAjD,GAA2D,OAA3D;AACA5B,qBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDiC,OAAjD,GAA2D,KAA3D;AACH,SAJD,EAIG,IAJH;AAKH,KAND,MAOI;AACAJ,mBAAW,YAAU;AACjBrC,qBAASsC,sBAAT,CAAgC,UAAhC,EAA4C,CAA5C,EAA+CC,SAA/C,CAAyDC,GAAzD,CAA6D,IAA7D;AACAxC,qBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDoB,OAAjD,GAA2D,OAA3D;AACA5B,qBAASC,cAAT,CAAwB,iBAAxB,EAA2CO,KAA3C,CAAiDiC,OAAjD,GAA2D,KAA3D;AACH,SAJD,EAIG,IAJH;AAKH;AACJ;;;;;;;;;;;;;;;;ACnHD;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbC,mCADa;AAEbC,uCAFa;AAGbC,iCAHa;AAIbC,qCAJa;AAKbC,uCALa;AAMbC;AANa;;;AASf,SAASL,gBAAT,CAA0B7D,MAA1B,EAAkCC,YAAlC,EAA+C;AAC5C,QAAO;AACNF,QAAM,UADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,uBAAP;AAA+B,GAF1C;AAGRP,OAAK,eAAY;AAAC;AAAoB,GAH9B;AAIR/B,UAAQ,kBAAW;AAClBE,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AARO,EAAP;AAUF;;AAED,SAASoE,qBAAT,CAA+BpE,MAA/B,EAAuCC,YAAvC,EAAoD;AACjD,QAAO;AACNF,QAAM,eADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,8BAAP;AAAsC,GAFjD;AAGRP,OAAK,eAAY;AAAC,UAAO,gBAAP;AAAwB,GAHlC;AAIR/B,UAAQ,kBAAW;AAClBE,UAAOqE,QAAP,CACCrE,OAAOwB,QAAP,KAAoB,CADrB;AAGAxB,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AAXO,EAAP;AAaF;;AAED,SAAS8D,kBAAT,CAA4B9D,MAA5B,EAAoCC,YAApC,EAAiD;AAChD,KAAIqE,cAAc,4BAAgB,CAAhB,EAAmB,CAAnB,CAAlB;AACE,QAAO;AACNvE,QAAM,YADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,oBAAoBkC,WAApB,GAAkC,UAAzC;AAAqD,GAFhE;AAGRzC,OAAK,eAAY;AAAC;AAAoB,GAH9B;AAIR/B,UAAQ,kBAAW;AAClBE,UAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB6C,WADpB;AAGA;AARO,EAAP;AAUF;;AAED,SAASP,eAAT,CAAyB/D,MAAzB,EAAiCC,YAAjC,EAA8C;AAC3C,QAAO;AACNF,QAAM,SADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,2BAAP;AAAmC,GAF9C;AAGRP,OAAK,eAAY;AAAC,UAAO,aAAP;AAAqB,GAH/B;AAIR/B,UAAQ,kBAAW;AAClBE,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGAA,UAAOwE,MAAP,CACCxE,OAAOM,MAAP,KAAkB,CADnB;AAGA;AAXO,EAAP;AAaF;;AAED,SAAS0D,iBAAT,CAA2BhE,MAA3B,EAAmCC,YAAnC,EAAgD;AAC7C,QAAO;AACNF,QAAM,WADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,+BAAP;AAAuC,GAFlD;AAGRP,OAAK,eAAY;AAAC;AAAqB,GAH/B;AAIR/B,UAAQ,kBAAW;AAClBE,UAAOyE,QAAP,CACCzE,OAAOK,QAAP,KAAoB,CADrB;AAGA;AARO,EAAP;AAUF;;AAED,SAAS4D,kBAAT,CAA4BjE,MAA5B,EAAoCC,YAApC,EAAiD;AAC9C,QAAO;AACNF,QAAM,YADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,yBAAP;AAAiC,GAF5C;AAGRP,OAAK,eAAY;AAAC,UAAO,gBAAP;AAAwB,GAHlC;AAIR/B,UAAQ,kBAAW;AAClBE,UAAO0E,UAAP,CACC1E,OAAOI,UAAP,KAAsB,CADvB;AAGA;AARO,EAAP;AAUF;;AAED,SAAS8D,gBAAT,CAA0BlE,MAA1B,EAAkCC,YAAlC,EAA+C;AAC5C,QAAO;AACNF,QAAM,UADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,qBAAP;AAA6B,GAFxC;AAGRP,OAAK,eAAY;AAAC;AAAoB,GAH9B;AAIR/B,UAAQ,kBAAW;AAClB,OAAGE,OAAOK,QAAP,MAAqB,CAAxB,EAA0B;AAC1BL,WAAOwE,MAAP,CACCxE,OAAOM,MAAP,KAAkB,CADnB;AAGC,IAJD,MAKI;AACH,QAAG9B,KAAKE,MAAL,KAAgB,GAAnB,EAAuB;AACtB,gCAAgBsB,MAAhB,EAAwB,iFAAxB;AACAA,YAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA,KALD,MAMI;AACHA,YAAOwE,MAAP,CACCxE,OAAOM,MAAP,KAAkB,CADnB;AAGA;AACD;AACD;AAvBO,EAAP;AAyBF;;;;;;;;;;;;;;;;AChID;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACbqE,+BADa;AAEbC,qCAFa;AAGbC,+BAHa;AAIbC,+BAJa;AAKbC,2BALa;AAMbC;AANa;;;AASf,SAASL,cAAT,CAAwB3E,MAAxB,EAAgCC,YAAhC,EAA6C;AAC5C,QAAO;AACNF,QAAM,QADA;AAENkF,UAAQ,CAFF;AAGN7C,QAAM,gBAAY;AAAC,UAAOpC,OAAOa,KAAP,CAAaG,aAApB;AAAkC,GAH/C;AAINa,OAAK,eAAY;AAAC,UAAO7B,OAAOa,KAAP,CAAaE,SAApB;AAA8B,GAJ1C;AAKNjB,UAAQ,kBAAW;AAClB,WAAOE,OAAOE,OAAP,EAAP;AACI,SAAK,MAAL;AACIF,YAAOmE,KAAP,CACLnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADjB,EACyBjF,MADzB;AAGA;AACJ,SAAK,UAAL;AACIA,YAAOmE,KAAP,CACLnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADjB,EACyBjF,MADzB;AAGA;AACJ,SAAK,QAAL;AACI,SAAGxB,KAAKE,MAAL,KAAgB,IAAnB,EAAwB;AAC7BsB,aAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MAAL,GAAc,CADhC,EACmCjF,MADnC;AAGA,iCAAgBA,MAAhB,EAAwB,4BAAxB;AACA,MALK,MAMF;AACH,iCAAgBA,MAAhB,EAAwB,SAAxB;AACA;AACK;AACJ;AACIA,YAAOmE,KAAP,CACLnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADjB,EACyBjF,MADzB;AAvBR;AA2BA;AAjCK,EAAP;AAmCA;;AAED,SAAS4E,iBAAT,CAA2B5E,MAA3B,EAAmCC,YAAnC,EAAgD;AAC7C,QAAO;AACNF,QAAM,WADA;AAENmF,cAAY,4BAAgB,CAAhB,EAAmB,CAAnB,CAFN;AAGR9C,QAAM,gBAAY;AAAC,UAAO,YAAY,KAAK8C,UAAjB,GAA8B,SAArC;AAA+C,GAH1D;AAIRrD,OAAK,eAAY;AAAC;AAAqB,GAJ/B;AAKR/B,UAAQ,kBAAY;AACnB,OAAIE,OAAOyB,OAAP,KAAmB,KAAKyD,UAAxB,GAAqC,CAAzC,EAA2C;AAC1C,+BAAgBlF,MAAhB,EAAwB,6DAAxB;AACAA,WAAOuE,OAAP,CAAe,CAAf;AACAvE,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,EADlB,EACsBvB,MADtB;AAGA,IAND,MAOK,IAAG,KAAKkF,UAAL,IAAmB,CAAtB,EAAwB;AAC5BlF,WAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB,KAAKyD,UADzB;AAGAlF,WAAO4C,QAAP,CAAgBC,UAAhB,GAA6B,KAA7B;AACA;AACA7C,WAAO4C,QAAP,CAAgBE,QAAhB,GAA2B;AAC1Bb,WAAM,4CADoB;AAE1BE,gBAAW;AACVgD,mBAAa,4BAAgB,CAAhB,EAAmB,CAAnB,CADH;AAEV/C,YAAM,gBAAY;AAAC,cAAO,YAAY,KAAK+C,WAAjB,GAA+B,iBAAtC;AAAwD,OAFjE;AAGVtD,WAAK,eAAY;AAAC;AAAqB,OAH7B;AAIV/B,cAAQ,kBAAW;AAClB,WAAIE,OAAOyB,OAAP,KAAmB,KAAK0D,WAAxB,GAAsC,CAA1C,EAA4C;AAC3C,mCAAgBnF,MAAhB,EAAwB,6DAAxB;AACAA,eAAOuE,OAAP,CAAe,CAAf;AACAvE,eAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,EADlB,EACsBvB,MADtB;AAGA,QAND,MAOI;AACH,mCAAgBA,MAAhB,EAAwB,kBAAxB;AACAA,eAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB,KAAK0D,WADzB;AAGA;AAED;AAnBS,MAFe;AAuB1B9C,iBAAYpC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C;AAvBc,KAA3B;AAyBA,IA/BI,MAgCA;AACJD,WAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB,KAAKyD,UADzB;AAGA;AACD;AAlDO,EAAP;AAoDF;;AAGD,SAASL,cAAT,CAAwB7E,MAAxB,EAAgCC,YAAhC,EAA6C;AAC1C,QAAO;AACNF,QAAM,QADA;AAERuF,WAAS,EAFD;AAGRL,UAAQ,CAHA;AAIR7C,QAAM,gBAAY;AAAC,UAAO,OAAP;AAAe,GAJ1B;AAKRP,OAAK,eAAY;AAAC;AAAkB,GAL5B;AAMR/B,UAAQ,kBAAW;AAClB,OAAIE,OAAOM,MAAP,MAAmB,KAAKgF,OAA5B,EAAqC;AACpC,+BAAgBtF,MAAhB,EAAwB,oCAAxB;AACA,IAFD,MAGK;AACJ,+BAAgBA,MAAhB,EAAwB,+DAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA;AACD;AAhBO,EAAP;AAkBF;;AAED,SAAS8E,cAAT,CAAwB9E,MAAxB,EAAgCC,YAAhC,EAA6C;AAC1C,QAAO;AACNF,QAAM,QADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,YAAP;AAAoB,GAF/B;AAGRP,OAAK,eAAY;AAAC;AAAkB,GAH5B;AAIRyD,WAAS,CAJD;AAKRL,UAAQ,CALA;AAMRnF,UAAQ,kBAAW;AAClB,OAAIE,OAAOI,UAAP,MAAuB,KAAKkF,OAAhC,EAAyC;AACxC,QAAG9G,KAAKE,MAAL,KAAgB,MAAM,CAAN,GAAUsB,OAAOI,UAAP,EAA7B,EAAiD;AAChD,gCAAgBJ,MAAhB,EAAwB,kDAAxB;AACAA,YAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA,KALD,MAMI;AACH,gCAAgBA,MAAhB,EAAwB,mCAAxB;AACA;AACD,IAVD,MAWK;AACJ,+BAAgBA,MAAhB,EAAwB,qCAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA;AACD;AAxBO,EAAP;AA0BF;;AAED,SAAS+E,YAAT,CAAsB/E,MAAtB,EAA8BC,YAA9B,EAA2C;AACxC,QAAO;AACNF,QAAM,MADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,SAAP;AAAiB,GAF5B;AAGRP,OAAK,eAAY;AAAC;AAAgB,GAH1B;AAIR/B,UAAQ,kBAAW;AAClB,OAAGE,OAAOI,UAAP,MAAuB,CAA1B,EAA4B;AAC3B,+BAAgBJ,MAAhB,EAAwB,+FAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA,IALD,MAMK,IAAGA,OAAOK,QAAP,MAAqB,CAAxB,EAA0B;AAC9B,+BAAgBL,MAAhB,EAAwB,6FAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA,IALI,MAMA;AACJ,+BAAgBA,MAAhB,EAAwB,gDAAxB;AACA;AACD;AApBO,EAAP;AAsBF;;AAED,SAASgF,aAAT,CAAuBhF,MAAvB,EAA+BC,YAA/B,EAA4C;AAC3C,KAAIsF,eAAe,4BAAgB,CAAhB,EAAmB,EAAnB,CAAnB;AACE,QAAO;AACNxF,QAAM,OADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,WAAWmD,YAAX,GAA0B,SAAjC;AAA2C,GAFtD;AAGR1D,OAAK,eAAY;AAAC;AAAoB,GAH9B;AAIRoD,UAAQ,CAJA;AAKRnF,UAAQ,kBAAW;AAClB,OAAGtB,KAAKE,MAAL,KAAgB,MAAM,EAAN,GAAWsB,OAAOI,UAAP,EAA9B,EAAkD;AACjD,+BAAgBJ,MAAhB,EAAwB,gCAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA,IALD,MAMI;AACH,+BAAgBA,MAAhB,EAAwB,WAAWuF,YAAX,GAA0B,oBAAlD;AACAvF,WAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB8D,YADpB;AAGA;AACD;AAlBO,EAAP;AAoBF;;;;;;;;ACjND;;AACA;;AAEA;;;;AACA;;;;;;kBAEe;AACbC,2BADa;AAEbC,6BAFa;AAGbC;AAHa;;;AAMf,SAASF,YAAT,CAAsBxF,MAAtB,EAA8BC,YAA9B,EAA2C;AAC1C,QAAO;AACNF,QAAM,WADA;AAENqC,QAAM,gBAAY;AAAC,UAAO,kBAAP;AAA0B,GAFvC;AAGNP,OAAK,eAAY;AAAC,UAAO,UAAP;AAAkB,GAH9B;AAIN/B,UAAQ,kBAAW;AAClBE,UAAO2F,OAAP,CAAe,MAAf;AACA3F,UAAOyE,QAAP,CACCzE,OAAOK,QAAP,KAAoB,CADrB;AAGA;AATK,EAAP;AAWA;;AAED,SAASoF,aAAT,CAAuBzF,MAAvB,EAA+BC,YAA/B,EAA4C;AAC3C,QAAO;AACNF,QAAM,YADA;AAENqC,QAAM,gBAAY;AAAC,UAAO,gBAAP;AAAwB,GAFrC;AAGNP,OAAK,eAAY;AAAC;AAAiB,GAH7B;AAIN/B,UAAQ,kBAAW;AAClBE,UAAO2F,OAAP,CAAe,UAAf;AACA3F,UAAOwE,MAAP,CACCxE,OAAOM,MAAP,KAAkB,CADnB;AAGAN,UAAOqE,QAAP,CACCrE,OAAOwB,QAAP,KAAoB,CADrB;AAGAxB,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AAfK,EAAP;AAiBA;;AAED,SAAS0F,WAAT,CAAqB1F,MAArB,EAA6BC,YAA7B,EAA0C;AACzC,QAAO;AACNF,QAAM,UADA;AAENqC,QAAM,gBAAY;AAAC,UAAO,eAAP;AAAuB,GAFpC;AAGNP,OAAK,eAAY;AAAC;AAAe,GAH3B;AAIN/B,UAAQ,kBAAW;AAClBE,UAAO2F,OAAP,CAAe,QAAf;AACA3F,UAAO0E,UAAP,CACC1E,OAAOI,UAAP,KAAsB,CADvB;AAGA;AATK,EAAP;AAWA;;;;;;;;;;;;AC1DD;;AACA;;AAEA;;;;AACA;;;;;;kBAEe;AACbwF,6BADa;;AAGbC,6CAHa;AAIbC,6CAJa;AAKbC,+CALa;AAMb3B,6CANa;AAOb4B,iDAPa;AAQbC;AARa;;;AAWf,SAASL,aAAT,CAAuB5F,MAAvB,EAA+BC,YAA/B,EAA4C;AACzC,QAAO;AACNF,QAAM,IADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,eAAP;AAAuB,GAFlC;AAGRP,OAAK,eAAY;AAAC;AAAc,GAHxB;AAIR/B,UAAQ,kBAAW,CAClB;AALO,EAAP;AAOF;;AAED,SAAS+F,qBAAT,CAA+B7F,MAA/B,EAAuCC,YAAvC,EAAoD;AACjD,QAAO;AACNF,QAAM,eADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,8BAAxB;AACAA,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAIA;AAVO,EAAP;AAYF;;AAED,SAAS8F,qBAAT,CAA+B9F,MAA/B,EAAuCC,YAAvC,EAAoD;AACjD,QAAO;AACNF,QAAM,eADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,yCAAxB;AACAA,UAAOwE,MAAP,CACCxE,OAAOM,MAAP,KAAkB,CADnB,EACsBN,MADtB;AAGAA,UAAO0E,UAAP,CACC1E,OAAOI,UAAP,KAAsB,CADvB,EAC0BJ,MAD1B;AAGA;AAZO,EAAP;AAcF;;AAED,SAAS+F,sBAAT,CAAgC/F,MAAhC,EAAwCC,YAAxC,EAAqD;AAClD,QAAO;AACNF,QAAM,gBADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,mCAAxB;AACAA,UAAOyE,QAAP,CACCzE,OAAOK,QAAP,KAAoB,CADrB,EACwBL,MADxB;AAGA;AATO,EAAP;AAWF;;AAGD,SAASoE,qBAAT,CAA+BpE,MAA/B,EAAuCC,YAAvC,EAAoD;AACjD,QAAO;AACNF,QAAM,eADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,6BAAxB;AACAA,UAAOqE,QAAP,CACCrE,OAAOwB,QAAP,KAAoB,CADrB;AAGAxB,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AAZO,EAAP;AAcF;;AAED,SAASgG,uBAAT,CAAiChG,MAAjC,EAAyCC,YAAzC,EAAsD;AACnD,QAAO;AACNF,QAAM,iBADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,2BAAxB;AACAA,UAAO0E,UAAP,CACC1E,OAAOI,UAAP,KAAsB,CADvB,EAC0BJ,MAD1B;AAGA;AATO,EAAP;AAWF;;AAED,SAASiG,qBAAT,CAA+BjG,MAA/B,EAAuCC,YAAvC,EAAoD;AACjD,QAAO;AACNF,QAAM,eADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,QAAP;AAAgB,GAF3B;AAGRP,OAAK,eAAY;AAAC;AAAe,GAHzB;AAIR/B,UAAQ,kBAAW;AAClB,8BAAgBE,MAAhB,EAAwB,2BAAxB;AACAA,UAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AATO,EAAP;AAWF;;;;;;;;ACrHD;;AAEA;;AAEA;;;;AACA;;;;;;kBAEe;AACbkG,mCADa;AAEbC,mCAFa;AAGbC,mCAHa;AAIbC,mCAJa;AAKbC;AALa;;;AAQf,SAASJ,gBAAT,CAA0BlG,MAA1B,EAAkCC,YAAlC,EAA+C;AAC9C,QAAO;AACNF,QAAM,UADA;AAENmF,cAAY,4BAAgB,CAAhB,EAAmB,CAAnB,CAFN;AAGN9C,QAAM,gBAAY;AAAC,UAAO,SAAP;AAAiB,GAH9B;AAINP,OAAK,eAAY;AAAC,UAAO,OAAP;AAAe,GAJ3B;AAKN/B,UAAQ,kBAAW;AAClB,OAAGtB,KAAKE,MAAL,KAAgB,MAAM,EAAN,GAAWsB,OAAOI,UAAP,EAA9B,EAAkD;AAClDJ,WAAOuG,OAAP,CAAeC,SAAf,IAA4B,CAA5B;AACAxG,WAAOuG,OAAP,CAAeE,UAAf,GAA4B,CAA5B;AACC,QAAGjI,KAAKE,MAAL,KAAgB,GAAnB,EAAuB;AACtBsB,YAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB,KAAKyD,UADzB;AAGA,SAAIvC,UAAU,sBAAsB,KAAKuC,UAA3B,GAAwC,0BAAtD;AACA,gCAAgBlF,MAAhB,EAAwB2C,OAAxB;AACA,KAND,MAOI;AACH,gCAAgB3C,MAAhB,EAAwB,oDAAxB;AACAA,YAAO0E,UAAP,CACC1E,OAAOI,UAAP,KAAsB,CADvB;AAGA;AAED,IAjBD,MAkBI;AACH,+BAAgBJ,MAAhB,EAAwB,gEAAxB;AACA;AAED;AA5BK,EAAP;AA8BA;;AAED,SAASmG,gBAAT,CAA0BnG,MAA1B,EAAkCC,YAAlC,EAA+C;AAC5C,QAAO;AACNF,QAAM,UADA;AAENmF,cAAY,4BAAgB,CAAhB,EAAmB,CAAnB,CAFN;AAGR9C,QAAM,gBAAY;AAAC,UAAO,SAAP;AAAiB,GAH5B;AAIRP,OAAK,eAAY;AAAC;AAAgB,GAJ1B;AAKR/B,UAAQ,kBAAY;AACnBE,UAAOuG,OAAP,CAAeE,UAAf,IAA6B,CAA7B;AACA,OAAGjI,KAAKE,MAAL,KAAgB,IAAnB,EAAwB;AACtBsB,WAAOuE,OAAP,CACCvE,OAAOyB,OAAP,KAAmB,KAAKyD,UADzB;AAGA,QAAIvC,UAAU,KAAKuC,UAAL,GAAkB,uEAAhC;AACA,+BAAgBlF,MAAhB,EAAwB2C,OAAxB;AACD;AACD;AAdO,EAAP;AAgBF;;AAGD,SAASyD,gBAAT,CAA0BpG,MAA1B,EAAkCC,YAAlC,EAA+C;AAC5C,QAAO;AACNF,QAAM,UADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,YAAP;AAAoB,GAF/B;AAGRP,OAAK,eAAY;AAAC,UAAO,YAAP;AAAoB,GAH9B;AAIR/B,UAAQ,kBAAW;AAClBE,UAAO4C,QAAP,CAAgBC,UAAhB,GAA6B,KAA7B;AACA7C,UAAO4C,QAAP,CAAgBE,QAAhB,GAA2B;AAC1Bb,UAAM,+EADoB;AAE1BE,eAAW;AACVC,WAAM,gBAAY;AAAC,aAAO,cAAP;AAAsB,MAD/B;AAEVP,UAAK,eAAY;AAAC,aAAO,eAAP;AAAuB,MAF/B;AAGV/B,aAAQ,kBAAW;AAClB,UAAG+B,OAAO6E,eAAV,EAA0B;AACzB,WAAG1G,OAAOuG,OAAP,CAAeE,UAAf,GAA4B,CAA/B,EAAiC;AAChC,mCAAgBzG,MAAhB,EAAwB,4DAAxB;AACAA,eAAOqE,QAAP,CACCrE,OAAOwB,QAAP,KAAoB,CADrB;AAGAxB,eAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AACD,WAAI2C,UAAU,2BAAe,CAC3B,uBAD2B,EAE3B,2DAF2B,EAG3B,4BAH2B,EAI3B,qCAJ2B,CAAf,CAAd;AAMA,kCAAgB3C,MAAhB,EAAwB2C,OAAxB;AACA,OAjBD,MAkBI;AACH,kCAAgB3C,MAAhB,EAAwB,gDAAxB;AACAA,cAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA;AACD;AA5BS,KAFe;AAgC1BqC,gBAAY;AACXD,WAAM,gBAAY;AAAC,aAAO,QAAP;AAAgB,MADxB;AAEXP,UAAK,eAAY;AAAC;AAAkB,MAFzB;AAGX/B,aAAQ,kBAAW,CAAE;AAHV;AAhCc,IAA3B;AAsCA;AA5CO,EAAP;AA8CF;;AAED,SAASuG,gBAAT,CAA0BrG,MAA1B,EAAkCC,YAAlC,EAA+C;AAC5C,QAAO;AACNF,QAAM,QADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,YAAP;AAAoB,GAF/B;AAGRP,OAAK,eAAY;AAAC;AAAkB,GAH5B;AAIRyD,WAAS,CAJD;AAKRL,UAAQ,CALA;AAMRnF,UAAQ,kBAAW;AAClB,OAAIE,OAAOI,UAAP,MAAuB,KAAKkF,OAAhC,EAAyC;AACxC,QAAG9G,KAAKE,MAAL,KAAgB,MAAM,CAAN,GAAUsB,OAAOI,UAAP,EAA7B,EAAiD;AAChD,gCAAgBJ,MAAhB,EAAwB,kDAAxB;AACAA,YAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA,KALD,MAMI;AACH,gCAAgBA,MAAhB,EAAwB,mCAAxB;AACA;AACD,IAVD,MAWK;AACJ,+BAAgBA,MAAhB,EAAwB,qCAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,KAAK0D,MADvB,EAC+BjF,MAD/B;AAGA;AACD;AAxBO,EAAP;AA0BF;;AAED,SAASsG,eAAT,CAAyBtG,MAAzB,EAAiCC,YAAjC,EAA8C;AAC3C,QAAO;AACNF,QAAM,MADA;AAERqC,QAAM,gBAAY;AAAC,UAAO,SAAP;AAAiB,GAF5B;AAGRP,OAAK,eAAY;AAAC;AAAgB,GAH1B;AAIR/B,UAAQ,kBAAW;AAClB,OAAGE,OAAOI,UAAP,MAAuB,CAA1B,EAA4B;AAC3B,+BAAgBJ,MAAhB,EAAwB,+FAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA,IALD,MAMK,IAAGA,OAAOK,QAAP,MAAqB,CAAxB,EAA0B;AAC9B,+BAAgBL,MAAhB,EAAwB,6FAAxB;AACAA,WAAOmE,KAAP,CACCnE,OAAOuB,KAAP,KAAiB,CADlB,EACqBvB,MADrB;AAGA,IALI,MAMA;AACJ,+BAAgBA,MAAhB,EAAwB,gDAAxB;AACA;AACD;AApBO,EAAP;AAsBF;;;;;;;;ACzKD;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;kBAEe;AACb2G,kBAAgB,CACf,EAAC5G,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EADe,CADH;AAIboH,uBAAqB,CACpB,EAAC7G,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EADoB,CAJR;AAObqH,sBAAoB;AACnB;AADmB,GAPP;AAUbC,yBAAuB;AACtB;AADsB,GAVV;;AAebC,kBAAgB,CACf,EAAChH,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EADe,EAEf,EAACO,MAAM,MAAP,EAAeP,QAAQ,CAAvB,EAFe,CAfH;AAoBbwH,uBAAqB;AACpB;AADoB,GApBR;AAuBbC,8BAA4B,CAC3B,EAAClH,MAAM,MAAP,EAAeP,QAAQ,CAAvB,EAD2B,CAvBf;;AA6Bb0H,wBAAsB,CACrB,EAACnH,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EADqB,CA7BT;;AAkCb2H,mBAAiB,EAlCJ;AAoCbC,wBAAsB,CACrB,EAACrH,MAAM,OAAP,EAAgBP,QAAQ,CAAxB,EADqB,CApCT;AAuCb6H,0BAAwB,CACvB,EAACtH,MAAM,OAAP,EAAgBP,QAAQ,CAAxB,EADuB,CAvCX;;AA4Cb8H,cAAY,CACX,EAACvH,MAAM,UAAP,EAAmBP,QAAQ,EAA3B,EADW,EAEX,EAACO,MAAM,YAAP,EAAqBP,QAAQ,EAA7B,EAFW,EAGX,EAACO,MAAM,SAAP,EAAkBP,QAAQ,CAA1B,EAHW,EAIX,EAACO,MAAM,WAAP,EAAoBP,QAAQ,CAA5B,EAJW,EAKX,EAACO,MAAM,YAAP,EAAqBP,QAAQ,CAA7B,EALW,EAMX,EAACO,MAAM,UAAP,EAAmBP,QAAQ,CAA3B,EANW,CA5CC;;AAqDb+H,YAAU,CACT,EAACxH,MAAM,eAAP,EAAwBP,QAAQ,EAAhC,EADS,EAET,EAACO,MAAM,eAAP,EAAwBP,QAAQ,EAAhC,EAFS,EAGT,EAACO,MAAM,gBAAP,EAAyBP,QAAQ,CAAjC,EAHS,EAIT,EAACO,MAAM,eAAP,EAAwBP,QAAQ,CAAhC,EAJS,EAKT,EAACO,MAAM,iBAAP,EAA0BP,QAAQ,EAAlC,EALS,EAMT,EAACO,MAAM,eAAP,EAAwBP,QAAQ,EAAhC,EANS,CArDG;;AA8DbgI,QAAM,CACJ,EAACzH,MAAM,SAAP,EAAkBP,QAAQ,CAA1B,EADI,EAEJ,EAACO,MAAM,UAAP,EAAmBP,QAAQ,CAA3B,EAFI,EAGJ,EAACO,MAAM,UAAP,EAAmBP,QAAQ,EAA3B,EAHI,EAIJ,EAACO,MAAM,UAAP,EAAmBP,QAAQ,EAA3B,EAJI,EAKJ,EAACO,MAAM,UAAP,EAAmBP,QAAQ,EAA3B,EALI,CA9DO;;AAsEbgD,YAAU;AACT;AACA,IAACzC,MAAM,OAAP,EAAgBP,QAAQ,CAAxB,EAFS,EAGT,EAACO,MAAM,KAAP,EAAcP,QAAQ,CAAtB,EAHS,CAtEG;;AA4Eb4F,oBAAkB;AACjBqC,UAAM,0BAASjC,YADE;AAEjBkC,WAAO,0BAASjC,aAFC;AAGjBkC,SAAK,0BAASjC,WAHG;;AAKjBkC,mBAAe,0BAAS/B,qBALP;AAMjBgC,mBAAe,0BAAS/B,qBANP;AAOjBgC,oBAAgB,0BAAS/B,sBAPR;AAQjBgC,mBAAe,0BAAS3D,qBARP;AASjB4D,qBAAiB,0BAAShC,uBATT;AAUjBiC,mBAAe,0BAAShC,qBAVP;;AAYjBiC,aAAS,sBAAK5B,eAZG;AAajB6B,cAAU,sBAAK9B,gBAbE;AAcjB+B,cAAU,sBAAKhC,gBAdE;AAejBiC,cAAU,sBAAKlC,gBAfE;AAgBjBmC,cAAU,sBAAKpC,gBAhBE;;AAmBjBqC,cAAU,uBAAK1E,gBAnBE;AAoBjB2E,gBAAY,uBAAK1E,kBApBA;AAqBjB2E,aAAS,uBAAK1E,eArBG;AAsBjB2E,eAAW,uBAAK1E,iBAtBC;AAuBjB2E,gBAAY,uBAAK1E,kBAvBA;AAwBjB2E,cAAU,uBAAK1E,gBAxBE;;AA0BjB2E,YAAQ,0BAAQ/D,cA1BC;AA2BjBgE,YAAQ,0BAAQjE,cA3BC;AA4BjBkE,UAAM,0BAAQhE,YA5BG;AA6BjBiE,WAAO,0BAAQhE,aA7BE;;AA+BjBK,YAAQ,0BAAQV,cA/BC;AAgCjBsE,WAAO,0BAASrD,aAhCC;AAiCjBsD,eAAW,0BAAQtE;AAEpB;;;;;;;;;;;;;;;;;;;;;;;;AAnCkB,GA5EL;;;;;;;;;;;;;;;;ACXf;;AACA;;AAKA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAIe;AACbuE,gCADa;AAEbC,8BAFa;AAGbC,kCAHa;AAIbC,oCAJa;AAKbC;AALa;;;AAQb,SAASJ,cAAT,CAAwBnJ,MAAxB,EAAgCC,YAAhC,EAA8C;AAC5C,MAAIF,OAAO,gBAAX;AACA,MAAI8B,sBAAJ;AACA,MAAII,OAAO,oCAAX;AACA,MAAIE,YAAYlC,aAAamF,gBAAb,CAA8B8D,SAA9B,CAAwClJ,MAAxC,EAAgDC,YAAhD,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;;AAEA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAED,SAASgH,eAAT,CAAyBrJ,MAAzB,EAAiCC,YAAjC,EAA+C;AAC7C,MAAIF,OAAO,iBAAX;AACA,MAAI8B,sBAAJ;AACA,MAAII,OAAO,2BAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,gBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;AACA,MAAGkC,UAAUpC,IAAV,IAAkB,MAArB,EAA4B;AAC1B,QAAIkC,OAAO,oCAAX;AACAE,cAAU8C,MAAV,GAAmB,CAAnB;AACD;;AAED,SAAO;AACLlF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAGD,SAASiH,gBAAT,CAA0BtJ,MAA1B,EAAkCC,YAAlC,EAAgD;AAC9C,MAAIF,OAAO,eAAX;AACA,MAAI8B,sBAAJ;AACA,MAAII,OAAO,wBAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,iBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;;AAEA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAGD,SAASkH,aAAT,CAAuBvJ,MAAvB,EAA+BC,YAA/B,EAA6C;AAC3C,MAAIF,OAAO,cAAX;AACA,MAAI8B,2BAAJ;AACA,MAAII,OAAO,YAAX;AACA,MAAIvC,mBAAmBO,aAAauH,IAApC;AACA,MAAIgC,eAAe,qCAAyB9J,gBAAzB,CAAnB;AACA,MAAIyC,YAAYlC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAjB;AACA;AACA,MAAGzB,KAAKE,MAAL,KAAgB,IAAnB,EAAwB;AACtB,QAAImD,2BAAJ;AACD,GAFD,MAGI;AACF,QAAIA,yBAAJ;AACD;;AAED,MAAGrD,KAAKE,MAAL,KAAgB,IAAnB,EAAwB;AACtB,QAAIuD,OAAO,YAAX;AACD,GAFD,MAGI;AACF,QAAIA,OAAO,uCAAX;AACD;;AAED,SAAO;AACLlC,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAED,SAAS+G,aAAT,CAAuBpJ,MAAvB,EAA+BC,YAA/B,EAA6C;AAC3C,MAAIF,OAAO,cAAX;AACA,MAAI8B,MAAM,aAAV;AACA,MAAII,OAAO,kCAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,gBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;;AAEA,MAAGkC,UAAUpC,IAAV,IAAkB,QAArB,EAA8B;AAC5B,QAAIkC,OAAO,6CAAX;AACD;;AAED,SAAO;AACLlC,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;;;;;;;;;;;;;;;;;;;AC5IH;;AACA;;AAMA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIoH,YAAY,8HAAhB;AACAA,YAAY,oBAAQA,SAAR,CAAZ;;kBAIc;AACZC,0CADY;AAEZC;AAFY;;;AAKd,SAASD,mBAAT,CAA6B1J,MAA7B,EAAqCC,YAArC,EAAmD;AAC/C,MAAIF,OAAO,QAAX;AACA,MAAIkC,OAAO,sDAAX;AACA,MAAIJ,MAAM,YAAV;;AAEA,MAAInC,mBAAmBO,aAAaqH,UAApC;AACA,MAAIkC,eAAe,qCAAyB9J,gBAAzB,CAAnB;AACA,MAAIyC,YAAYlC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAjB;AACA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAEH,SAASsH,iBAAT,CAA2B3J,MAA3B,EAAmCC,YAAnC,EAAiD;AAC7C,MAAIF,OAAO,oBAAX;AACA,MAAIkC,OAAO,iDAAX;AACA,MAAIJ,yBAAJ;AACA,MAAInC,mBAAmBO,aAAasH,QAApC;AACA,MAAIpF,YAAYlC,aAAamF,gBAAb,CAA8B6D,KAA9B,CAAoCjJ,MAApC,EAA4CC,YAA5C,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAjB;;AAEA,MAAGoC,WAAWtC,IAAX,IAAmB,eAAtB,EAAsC;AACpC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;AACD,MAAGpH,WAAWtC,IAAX,IAAmB,eAAtB,EAAsC;AACpC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;AACD,MAAGpH,WAAWtC,IAAX,IAAmB,eAAtB,EAAsC;AACpC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;AACD,MAAGpH,WAAWtC,IAAX,IAAmB,iBAAtB,EAAwC;AACtC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;AACD,MAAGpH,WAAWtC,IAAX,IAAmB,gBAAtB,EAAuC;AACrC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;AACD,MAAGpH,WAAWtC,IAAX,IAAmB,eAAtB,EAAsC;AACpC,QAAI8B,MAAM4H,UAAU,CAAV,CAAV;AACD;;AAED,SAAO;AACL1J,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;;;;;;;;;AC5EH;;AACA;;AAKA;;;;;;kBAEe;AACbuH;AADa;;;AAKf,SAASA,iBAAT,CAA2B5J,MAA3B,EAAmCC,YAAnC,EAAiD;AAC/C,MAAIF,OAAO,UAAX;AACA,MAAIkC,OAAO,uBAAX;AACA,MAAIJ,wBAAJ;;AAEA,MAAInC,mBAAmBO,aAAauC,QAApC;AACA,MAAIgH,eAAe,qCAAyB9J,gBAAzB,CAAnB;AACA,MAAIC,aAAaM,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAjB;AACA,MAAIL,cAAcK,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAlB;AACA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWxC,UAJN;AAKL0C,gBAAYzC;AALP,GAAP;AAOD;;;;;;;;AC7BD;;AACA;;kBAKe;AACbuJ,gCADa;AAEbC,8BAFa;AAGbC,kCAHa;AAIbC,oCAJa;AAKbO;AALa;;;AAQb,SAASV,cAAT,CAAwBnJ,MAAxB,EAAgCC,YAAhC,EAA8C;AAC5C,MAAIF,OAAO,QAAX;AACA,MAAI8B,MAAM,YAAV;AACA,MAAII,OAAO,oCAAX;AACA,MAAIE,YAAYlC,aAAamF,gBAAb,CAA8B8D,SAA9B,CAAwClJ,MAAxC,EAAgDC,YAAhD,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;;AAEA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAGD,SAAS+G,aAAT,CAAuBpJ,MAAvB,EAA+BC,YAA/B,EAA6C;AAC3C,MAAIF,OAAO,cAAX;AACA,MAAI8B,MAAM,UAAV;AACA,MAAII,OAAO,kCAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,gBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;;AAEA,MAAGkC,UAAUpC,IAAV,IAAkB,QAArB,EAA8B;AAC5B,QAAIkC,OAAO,6CAAX;AACD;;AAED,SAAO;AACLlC,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAED,SAASgH,eAAT,CAAyBrJ,MAAzB,EAAiCC,YAAjC,EAA+C;AAC7C,MAAIF,OAAO,iBAAX;AACA,MAAI8B,MAAM,YAAV;AACA,MAAII,OAAO,2BAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,gBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;;AAEA,MAAGkC,UAAUpC,IAAV,IAAkB,MAArB,EAA4B;AAC1B,QAAIkC,OAAO,oCAAX;AACAE,cAAU8C,MAAV,GAAmB,CAAnB;AACD;;AAED,SAAO;AACLlF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAGD,SAASiH,gBAAT,CAA0BtJ,MAA1B,EAAkCC,YAAlC,EAAgD;AAC9C,MAAIF,OAAO,eAAX;AACA,MAAI8B,MAAM,aAAV;AACA,MAAII,OAAO,sDAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,iBAFiE,CAA5C,CAAvB;AAIA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;;AAEA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;AAED,SAASwH,iBAAT,CAA2B7J,MAA3B,EAAmCC,YAAnC,EAAiD;AAC/C,MAAIF,OAAO,aAAX;AACA,MAAI8B,MAAM,UAAV;AACA,MAAII,OAAO,6BAAX;AACA,MAAIvC,mBAAmB,mCAAuBM,MAAvB,EAA+BC,YAA/B,EAA4C,CACjE,gBADiE,EAEjE,iBAFiE,CAA5C,CAAvB;AAIA;AACA,MAAIkC,YAAYlC,aAAamF,gBAAb,CAA8B,8BAAkB1F,gBAAlB,EAAoCK,IAAlE,EAAwEC,MAAxE,EAAgFC,YAAhF,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BC,MAA9B,CAAqCrF,MAArC,EAA6CC,YAA7C,CAAjB;AACA;AACA;AACA;AACAkC,YAAU8C,MAAV,GAAmB,CAAnB;AACA,MAAG9C,UAAUpC,IAAV,IAAkB,QAArB,EAA8B;AAC5B,QAAI+J,QAAQ,SAARA,KAAQ,GAAW;AAAC,UAAGtL,KAAKE,MAAL,KAAgB,IAAnB,EAAwB;AAAC,eAAM,gCAAN;AAAuC,OAAhE,MAAqE;AAAC,eAAM,6BAAN;AAAoC;AAAC,KAAnI;AACAuD,WAAO6H,OAAP;AACA3H,cAAUmD,OAAV,GAAoB,CAApB;AACD;;AAED,SAAO;AACLvF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;;;;;;;;;ACpIH;;AACA;;AAKA;;;;;;kBAEc;AACZqH;AADY;;;AAId,SAASA,mBAAT,CAA6B1J,MAA7B,EAAqCC,YAArC,EAAmD;AAC/C,MAAIF,OAAO,QAAX;AACA,MAAIkC,OAAO,qDAAX;AACA,MAAIJ,qBAAJ;;AAEA,MAAInC,mBAAmBO,aAAaqH,UAApC;AACA,MAAIkC,eAAe,qCAAyB9J,gBAAzB,CAAnB;AACA,MAAIyC,YAAYlC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAhB;AACA,MAAIoC,aAAapC,aAAamF,gBAAb,CAA8BoE,aAAa,CAAb,EAAgBzJ,IAA9C,EAAoDC,MAApD,EAA4DC,YAA5D,CAAjB;AACA,SAAO;AACLF,UAAMA,IADD;AAELkC,UAAMA,IAFD;AAGLJ,SAAKA,GAHA;AAILM,eAAWA,SAJN;AAKLE,gBAAYA;AALP,GAAP;AAOD;;;;;;;;AC5BH;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;kBAGe;AACbK,uBAAoB,CAClB,EAAC3C,MAAM,MAAP,EAAeP,QAAQ,CAAvB,EADkB,EAElB,EAACO,MAAM,OAAP,EAAgBP,QAAQ,CAAxB,EAFkB,EAGlB,EAACO,MAAM,SAAP,EAAkBP,QAAQ,CAA1B,EAHkB,EAIlB,EAACO,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EAJkB,EAKlB,EAACO,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EALkB,EAMlB,EAACO,MAAM,MAAP,EAAeP,QAAQ,EAAvB,EANkB,CADP;;AAUbiD,oBAAiB,CACf,EAAC1C,MAAM,QAAP,EAAiBP,QAAQ,CAAzB,EADe,EAEf,EAACO,MAAM,YAAP,EAAqBP,QAAQ,CAA7B,EAFe,CAVJ;;AAeb+C,mBAAgB;AACdC,kBAAU,uBAAaoH,iBADT;;AAGdG,gBAAQ,qBAAWJ,iBAHL;AAIdK,cAAM,wBAAcZ,aAJN;AAKda,eAAO,wBAAcd,cALP;AAMde,iBAAS,wBAAcZ,gBANT;AAOda,gBAAQ,wBAAcd,eAPR;AAQd7B,cAAM,wBAAc+B,aARN;AASdjC,oBAAY,gBAAMoC,mBATJ;AAUdU,cAAM,mBAASP;AAVD;;AAelB;;;;;;;;;;;;;;;;;;;;;AAqBA;;;;;;;;;;;;;;;;;;;AAnDe;;;;;;;QCmHCQ,YAAAA;;AA/HhB;;AACA;;AAEA;;;;;;kBAEe;AACbxJ,SAAO;AACLyJ,QAAI,EADC;AAELC,WAAO,EAFF;AAGLC,UAAM,CAHD;AAILC,SAAK,4BAAgB,CAAhB,EAAmB,CAAnB,CAJA;AAKLC,WAAO,4BAAgB,CAAhB,EAAmB,CAAnB,CALF;AAMLC,aAAS,4BAAgB,CAAhB,EAAmB,CAAnB,CANJ;AAOLzH,WAAO,CAPF;AAQL0H,eAAW,CARN;AASLC,UAAM,YATD;AAUL/J,YAAQ,OAVH;AAWLC,eAAW,WAXN;AAYLC,mBAAe,UAZV;AAaLiC,WAAO;AAbF,GADM;AAgBbL,YAAU;AACRC,gBAAY,IADJ;AAERC,cAAU,oBAAW;AAAC7B,cAAQC,GAAR,CAAY,SAAZ;AAAuB;AAFrC,GAhBG;AAoBbqF,WAAS;AACPE,gBAAY,CADL;AAEPD,eAAW;AAFJ,GApBI;AAwBbrC,SAAO,eAAS2G,GAAT,EAAc9K,MAAd,EAAsB;AAC3B,QAAG8K,OAAO,CAAV,EAAY;AACV,WAAKjK,KAAL,CAAWyJ,EAAX,GAAgB,CAAhB;AACA,0BAAStK,MAAT,EAAiB,iBAAjB;AACD;AACD,QAAG8K,MAAM9K,OAAOwB,QAAP,EAAT,EAA2B;AACzB,WAAKX,KAAL,CAAWyJ,EAAX,GAAgBtK,OAAOwB,QAAP,EAAhB;AACD,KAFD,MAGI;AACF,WAAKX,KAAL,CAAWyJ,EAAX,GAAgBQ,GAAhB;AACD;AACD3J,aAASC,cAAT,CAAwB,aAAxB,EAAuCO,KAAvC,CAA6CoJ,KAA7C,GAAqD,KAAKlK,KAAL,CAAWyJ,EAAX,GAAgBtK,OAAOwB,QAAP,EAAhB,GAAoC,GAApC,GAA0C,GAA/F;AACD,GApCY;AAqCbD,SAAO,iBAAW;AAChB,WAAO,KAAKV,KAAL,CAAWyJ,EAAlB;AACD,GAvCY;AAwCbjG,YAAU,kBAASyG,GAAT,EAAc;AACtB,SAAKjK,KAAL,CAAW0J,KAAX,GAAmBO,GAAnB;AACD,GA1CY;AA2CbtJ,YAAU,oBAAW;AACnB,WAAO,KAAKX,KAAL,CAAW0J,KAAlB;AACD,GA7CY;AA8CbhG,WAAS,iBAASuG,GAAT,EAAc;AACrB,QAAG,KAAKjK,KAAL,CAAW2J,IAAX,GAAkBM,GAArB,EAA0B;AACxB3J,eAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDC,GAAjD,CAAqD,UAArD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDsH,MAAjD,CAAwD,UAAxD;AAAsE,OAA7F,EAA+F,GAA/F;AACD;AACD,QAAG,KAAKnK,KAAL,CAAW2J,IAAX,GAAkBM,GAArB,EAA0B;AACxB3J,eAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDC,GAAjD,CAAqD,YAArD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDsH,MAAjD,CAAwD,YAAxD;AAAwE,OAA/F,EAAiG,GAAjG;AACD;AACD,SAAKnK,KAAL,CAAW2J,IAAX,GAAkBM,GAAlB;AACD,GAxDY;AAyDbrJ,WAAS,mBAAW;AAClB,WAAO,KAAKZ,KAAL,CAAW2J,IAAlB;AACD,GA3DY;AA4DbhG,UAAQ,gBAASsG,GAAT,EAAc;AACpB,QAAG,KAAKjK,KAAL,CAAW4J,GAAX,GAAiBK,GAApB,EAAyB;AACvB3J,eAASC,cAAT,CAAwB,WAAxB,EAAqCsC,SAArC,CAA+CC,GAA/C,CAAmD,UAAnD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,WAAxB,EAAqCsC,SAArC,CAA+CsH,MAA/C,CAAsD,UAAtD;AAAoE,OAA3F,EAA6F,GAA7F;AACD;AACD,QAAG,KAAKnK,KAAL,CAAW4J,GAAX,GAAiBK,GAApB,EAAyB;AACvB3J,eAASC,cAAT,CAAwB,WAAxB,EAAqCsC,SAArC,CAA+CC,GAA/C,CAAmD,YAAnD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,WAAxB,EAAqCsC,SAArC,CAA+CsH,MAA/C,CAAsD,YAAtD;AAAsE,OAA7F,EAA+F,GAA/F;AACD;AACD,SAAKnK,KAAL,CAAW4J,GAAX,GAAiBK,GAAjB;AACD,GAtEY;AAuEbxK,UAAQ,kBAAW;AACjB,WAAO,KAAKO,KAAL,CAAW4J,GAAlB;AACD,GAzEY;AA0EbhG,YAAU,kBAASqG,GAAT,EAAc;AACtB,QAAG,KAAKjK,KAAL,CAAW6J,KAAX,GAAmBI,GAAtB,EAA2B;AACzB3J,eAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDC,GAAjD,CAAqD,UAArD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDsH,MAAjD,CAAwD,UAAxD;AAAsE,OAA7F,EAA+F,GAA/F;AACD;AACD,QAAG,KAAKnK,KAAL,CAAW6J,KAAX,GAAmBI,GAAtB,EAA2B;AACzB3J,eAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDC,GAAjD,CAAqD,YAArD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,aAAxB,EAAuCsC,SAAvC,CAAiDsH,MAAjD,CAAwD,YAAxD;AAAwE,OAA/F,EAAiG,GAAjG;AACD;AACD,SAAKnK,KAAL,CAAW6J,KAAX,GAAmBI,GAAnB;AACD,GApFY;AAqFbzK,YAAU,oBAAW;AACnB,WAAO,KAAKQ,KAAL,CAAW6J,KAAlB;AACD,GAvFY;AAwFbhG,cAAY,oBAASoG,GAAT,EAAc;AACxB,QAAG,KAAKjK,KAAL,CAAW8J,OAAX,GAAqBG,GAAxB,EAA6B;AAC3B3J,eAASC,cAAT,CAAwB,eAAxB,EAAyCsC,SAAzC,CAAmDC,GAAnD,CAAuD,UAAvD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,eAAxB,EAAyCsC,SAAzC,CAAmDsH,MAAnD,CAA0D,UAA1D;AAAwE,OAA/F,EAAiG,GAAjG;AACD;AACD,QAAG,KAAKnK,KAAL,CAAW8J,OAAX,GAAqBG,GAAxB,EAA6B;AAC3B3J,eAASC,cAAT,CAAwB,eAAxB,EAAyCsC,SAAzC,CAAmDC,GAAnD,CAAuD,YAAvD;AACAH,iBAAW,YAAU;AAAErC,iBAASC,cAAT,CAAwB,eAAxB,EAAyCsC,SAAzC,CAAmDsH,MAAnD,CAA0D,YAA1D;AAA0E,OAAjG,EAAmG,GAAnG;AACD;AACD,SAAKnK,KAAL,CAAW8J,OAAX,GAAqBG,GAArB;AACD,GAlGY;AAmGb1K,cAAY,sBAAW;AACrB,WAAO,KAAKS,KAAL,CAAW8J,OAAlB;AACD,GArGY;AAsGbM,YAAU,kBAASH,GAAT,EAAc;AACtB,SAAKjK,KAAL,CAAWqC,KAAX,GAAmB4H,GAAnB;AACD,GAxGY;AAyGbxJ,YAAU,oBAAW;AACnB,WAAO,KAAKT,KAAL,CAAWqC,KAAlB;AACD,GA3GY;AA4GbyC,WAAS,iBAASkF,IAAT,EAAe;AACtB,SAAKhK,KAAL,CAAWgK,IAAX,GAAkBA,IAAlB;AACD,GA9GY;AA+Gb3K,WAAS,mBAAW;AAClB,WAAO,KAAKW,KAAL,CAAWgK,IAAlB;AACD,GAjHY;AAkHbjK,gBAAc,sBAASkK,GAAT,EAAc;AAC1B,SAAKjK,KAAL,CAAW+J,SAAX,GAAuBE,GAAvB;AACD,GApHY;AAqHbI,gBAAc,wBAAW;AACvB,WAAO,KAAKL,IAAL,CAAUM,SAAjB;AACD;AAvHY;AA0HR,SAASd,SAAT,CAAmBrK,MAAnB,EAA2B;AAAEA,SAAOiL,QAAP,CAAgBjL,OAAOsB,QAAP,KAAoB,CAApC;AAAyC;;;;AC/H7E;;;;AACA;;;;AACA;;;;AAEA;;AAEA;;;;AAMA8J,EAAEjK,QAAF,EAAYkK,KAAZ,CAAkB,YAAU;;AAE3B,KAAI3J,cAAc,+EAAlB;AACA;AACA,sBAAUA,WAAV;AACAT,SAAQC,GAAR;;AAGA,KAAIoK,OAAOnK,SAASsC,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAAX;AACA,KAAI8H,WAAWpK,SAASC,cAAT,CAAwB,UAAxB,CAAf;AACA,KAAIoK,UAAUrK,SAASC,cAAT,CAAwB,cAAxB,CAAd;AACA,KAAIqK,KAAK,IAAIC,MAAJ,CAAWF,OAAX,CAAT;;AAEA;AACAC,IAAG9H,GAAH,CAAQ,IAAI+H,OAAOC,GAAX,CAAe,EAAEC,WAAWF,OAAOG,oBAApB,EAA0CC,WAAW,EAArD,EAAf,CAAR;;AAEA;AACAL,IAAGM,EAAH,CAAM,KAAN,EAAaC,UAAb;;AAEA,KAAIC,WAAW,CAAf;AACA,KAAIC,WAAW,CAAf;AACA,KAAIC,aAAa,KAAjB;AACA,UAASH,UAAT,CAAoBI,EAApB,EAAwB;;AAEtB;AACA,MAAIC,OAAOD,GAAGE,MAAd;;AAEA;AACA;AACA;AACA,MAAK,CAAEH,UAAP,EAAoB;AAClBA,gBAAa,IAAb;AACAF,cAAWI,KAAKE,UAAhB;AACD;;AAEA,MAAIF,KAAKE,UAAL,GAAkB,EAAtB,EAA0B;AACvBjB,QAAK5H,SAAL,CAAeC,GAAf,CAAmB,KAAnB;AACA2H,QAAK5H,SAAL,CAAesH,MAAf,CAAsB,IAAtB;AACH,GAHA,MAII,IAAIqB,KAAKE,UAAL,GAAkB,CAAC,EAAvB,EAA2B;AAC5BjB,QAAK5H,SAAL,CAAeC,GAAf,CAAmB,IAAnB;AACA2H,QAAK5H,SAAL,CAAesH,MAAf,CAAsB,KAAtB;AACH,GAHI,MAID;AACFM,QAAK5H,SAAL,CAAesH,MAAf,CAAsB,KAAtB;AACAM,QAAK5H,SAAL,CAAesH,MAAf,CAAsB,IAAtB;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAIwB,OAAOJ,GAAGK,MAAH,GAAYR,QAAvB;;AAEA;AACAI,OAAK1K,KAAL,CAAW+K,IAAX,GAAkBF,OAAO,IAAzB;;AAIA;AACA;AACA,MAAIJ,GAAGO,OAAP,EAAgB;AACdR,gBAAa,KAAb;;AAEA,OAAIE,KAAKE,UAAL,GAAkB,EAAtB,EAA0B;AACxBF,SAAK1K,KAAL,CAAW+K,IAAX,GAAkB,IAAI,IAAtB;AACApB,SAAK5H,SAAL,CAAeC,GAAf,CAAmB,SAAnB;AACA2H,SAAK5H,SAAL,CAAesH,MAAf,CAAsB,QAAtB;AACAxH,eAAW,YAAU;AAAE8H,UAAK5H,SAAL,CAAesH,MAAf,CAAsB,SAAtB,EAAkCM,KAAK5H,SAAL,CAAesH,MAAf,CAAsB,KAAtB;AAA+B,KAAxF,EAA0F,GAA1F;AACC,qBAAOpI,QAAP,CAAgBC,UAAhB,GAA6B,IAA7B;AACAnB,gBAAYW,UAAZ,CAAuBvC,MAAvB;AACA,QAAG,iBAAO8C,QAAP,CAAgBC,UAAhB,IAA8B,KAAjC,EAAuC;AAC3C,SAAI,iBAAOD,QAAP,CAAgBE,QAAhB,CAAyBb,IAAzB,IAAiC2K,SAArC,EAA+C;AAAClL,kBAAYO,IAAZ,GAAmB,iBAAOW,QAAP,CAAgBE,QAAhB,CAAyBb,IAA5C;AAAkD;AAC7FP,iBAAYS,SAAZ,GAAwB,iBAAOS,QAAP,CAAgBE,QAAhB,CAAyBX,SAAjD;AACAT,iBAAYW,UAAZ,GAAyB,iBAAOO,QAAP,CAAgBE,QAAhB,CAAyBT,UAAlD;AACA;AACA,0BAAUX,WAAV;AACL,KANI,MAOD;AACH;AACA,SAAG,iBAAOb,KAAP,CAAaoC,KAAhB,EAAsB;AACrBqI,WAAK5H,SAAL,CAAeC,GAAf,CAAmB,WAAnB;AACA2H,WAAK5H,SAAL,CAAesH,MAAf,CAAsB,OAAtB;AACGO,eAAS7H,SAAT,CAAmBsH,MAAnB,CAA0B,MAA1B;AACHxH,iBAAW,YAAU;AACpB;AACA9B,qBAAc,+EAAd;AACA,4BAAUA,WAAV;AACAP,gBAASC,cAAT,CAAwB,MAAxB,EAAgCsC,SAAhC,CAA0CsH,MAA1C,CAAiD,kBAAjD;AACAM,YAAK5H,SAAL,CAAesH,MAAf,CAAsB,WAAtB;AACAM,YAAK5H,SAAL,CAAeC,GAAf,CAAmB,OAAnB;AACG4H,gBAAS7H,SAAT,CAAmBC,GAAnB,CAAuB,MAAvB;AACH,OARD,EAQG,GARH;AASA;AAED;AACE,IAhCD,MAiCK,IAAI0I,KAAKE,UAAL,GAAkB,CAAC,EAAvB,EAA2B;AAC9BF,SAAK1K,KAAL,CAAW+K,IAAX,GAAkB,IAAI,IAAtB;AACApB,SAAK5H,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACA2H,SAAK5H,SAAL,CAAesH,MAAf,CAAsB,SAAtB;AACAxH,eAAW,YAAU;AAAE8H,UAAK5H,SAAL,CAAesH,MAAf,CAAsB,QAAtB,EAAiCM,KAAK5H,SAAL,CAAesH,MAAf,CAAsB,IAAtB;AAA8B,KAAtF,EAAwF,GAAxF;AACC,qBAAOpI,QAAP,CAAgBC,UAAhB,GAA6B,IAA7B;AACAnB,gBAAYS,SAAZ,CAAsBrC,MAAtB;AACA,QAAG,iBAAO8C,QAAP,CAAgBC,UAAhB,IAA8B,KAAjC,EAAuC;AACtC,SAAI,iBAAOD,QAAP,CAAgBE,QAAhB,CAAyBb,IAAzB,IAAiC2K,SAArC,EAA+C;AAAClL,kBAAYO,IAAZ,GAAmB,iBAAOW,QAAP,CAAgBE,QAAhB,CAAyBb,IAA5C;AAAkD;AAClGP,iBAAYS,SAAZ,GAAwB,iBAAOS,QAAP,CAAgBE,QAAhB,CAAyBX,SAAjD;AACAT,iBAAYW,UAAZ,GAAyB,iBAAOO,QAAP,CAAgBE,QAAhB,CAAyBT,UAAlD;AACA;AACA,0BAAUX,WAAV;AACF,KANC,MAOE;AACH;AACA,SAAG,iBAAOb,KAAP,CAAaoC,KAAhB,EAAsB;AACrBqI,WAAK5H,SAAL,CAAeC,GAAf,CAAmB,UAAnB;AACA2H,WAAK5H,SAAL,CAAesH,MAAf,CAAsB,OAAtB;AACAO,eAAS7H,SAAT,CAAmBsH,MAAnB,CAA0B,MAA1B;AACAxH,iBAAW,YAAU;AACpB;AACA9B,qBAAc,+EAAd;AACA,4BAAUA,WAAV;AACAP,gBAASC,cAAT,CAAwB,MAAxB,EAAgCsC,SAAhC,CAA0CsH,MAA1C,CAAiD,kBAAjD;AACAM,YAAK5H,SAAL,CAAesH,MAAf,CAAsB,UAAtB;AACAM,YAAK5H,SAAL,CAAeC,GAAf,CAAmB,OAAnB;AACA4H,gBAAS7H,SAAT,CAAmBC,GAAnB,CAAuB,MAAvB;AACA,OARD,EAQG,GARH;AASA;AACD;AACD,IA/BI,MAgCD;AACF0I,SAAK1K,KAAL,CAAW+K,IAAX,GAAkB,IAAI,IAAtB;AACApB,SAAK5H,SAAL,CAAesH,MAAf,CAAsB,SAAtB;AACAM,SAAK5H,SAAL,CAAesH,MAAf,CAAsB,QAAtB;AACD;AACF;AACF;AACD,CA1ID","file":"7bd5d8033a082abbee597836b698ef37.map","sourcesContent":["export function getRandomNumber(min, max) {\r\n  return min + Math.round((Math.random() * (max - min))) ;\r\n  }\r\n\r\nexport function randomProperties(obj) {\r\n    var keys = Object.keys(obj)\r\n    return obj[keys[ keys.length * Math.random() << 0]];\r\n  };\r\n\r\nexport function shuffle(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\n\r\nexport function getRandomArray(arrayList) {\r\n    return arrayList[Math.floor(Math.random() * arrayList.length)];\r\n};\r\n\r\n\r\n\r\nexport function getObjectByRarity(objectList){\r\n  var lootTable = []\r\n  objectList.forEach(function(element) {\r\n    var rarity = element.rarity;\r\n    for (var i = 0; i < rarity; i++) {\r\n      lootTable.push(element);\r\n    }    \r\n  });\r\n  return lootTable[Math.floor(Math.random() * lootTable.length)];\r\n}\r\n\r\nexport function generateTwoActionsNoDupe(availableActions) {\r\n  var actionLeft = getObjectByRarity(availableActions);\r\n  var actionRight = getObjectByRarity(availableActions.filter(function(action) { return action.name !== actionLeft.name }));\r\n  return [actionLeft, actionRight];\r\n}\r\n\r\nexport function createAvailableActions(player, swipeActions, objectList){\r\n  var availableActions = []\r\n\r\n  // Mettre toutes les actions dans la liste d'action dans la liste availableActions\r\n  objectList.forEach(function(element) {\r\n    swipeActions[element].forEach(function(element) {\r\n      availableActions.push(element)\r\n    });\r\n  });\r\n\r\n  // Ajouter les actions spécifique à la classe si le joueur est de cette classe\r\n  if(player.getRole() == \"Voleur\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Rogue';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"Mage\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Mage';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getRole() == \"Guerrier\"){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Warrior';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getAgility() > 10){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Agility';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getIntel() > 10){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Intelligence';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if(player.getStr() > 10){\r\n    objectList.forEach(function(element) {\r\n      var actionList = element + 'Strenght';\r\n      if(typeof swipeActions[actionList] !== \"undefined\"){\r\n        swipeActions[actionList].forEach(function(element) {\r\n          availableActions.push(element)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return availableActions\r\n}","import { getObjectByRarity } from './utils';\r\nimport { getRandomNumber } from './utils';\r\n\r\nimport sword_svg from './img/actions/sword.svg';\r\nimport bow_svg from './img/actions/bow.svg';\r\nimport swipeleft_svg from './img/actions/swipeleft.svg';\r\nimport swiperight_svg from './img/actions/swiperight.svg';\r\n\r\n\r\nexport function writeStats(player){\r\n    switch(player.getRole()) {\r\n    case \"Mage\":\r\n        player.setRoleStats(player.getIntel());\r\n        player.stats.weapon = \"wand\";\r\n        player.stats.weaponImg = \"wand.png\";\r\n        player.stats.defaultAttack = \"Attaquer\";\r\n        break;\r\n    case \"Guerrier\":\r\n        player.setRoleStats(player.getStr());\r\n        player.stats.weapon = \"sword\";\r\n        player.stats.weaponImg = sword_svg;\r\n        player.stats.defaultAttack = \"Attaquer\";\r\n        break;\r\n    case \"Archer\":\r\n        player.setRoleStats(player.getAgility());\r\n        player.stats.weapon = \"bow\";\r\n        player.stats.weaponImg = bow_svg;\r\n        player.stats.defaultAttack = \"Tirer\";\r\n        break;\r\n    default:\r\n        console.log(\"NO Role STATS\")\r\n    }\r\n    document.getElementById(\"level\").innerHTML = player.getLevel();\r\n    document.getElementById(\"stats_hp\").innerHTML = player.getHp();\r\n    document.getElementById(\"stats_maxhp\").innerHTML = player.getMaxHp();\r\n    document.getElementById(\"stats_coins\").innerHTML = player.getCoin();\r\n    document.getElementById(\"stats_str\").innerHTML = player.getStr();\r\n    document.getElementById(\"stats_intel\").innerHTML = player.getIntel();\r\n    document.getElementById(\"stats_agility\").innerHTML = player.getAgility();\r\n    document.getElementById(\"stats_class\").innerHTML = player.getRole();\r\n  }\r\n\r\nexport function writeRoom(currentRoom){\r\n    document.getElementById(\"room_img\").style.backgroundImage = \"url(\"+ currentRoom.img; + \")\";\r\n    document.getElementById(\"room_name\").innerHTML= currentRoom.name.charAt(0).toUpperCase() + currentRoom.name.slice(1);\r\n    document.getElementById(\"room_desc\").innerHTML= currentRoom.desc;\r\n    document.getElementById(\"btn_no-text\").textContent = currentRoom.swipeLeft.text();\r\n    document.getElementById(\"btn_no\").style.backgroundImage = \"url(\"+ currentRoom.swipeLeft.img() + \")\";\r\n    document.getElementById(\"btn_yes-text\").textContent = currentRoom.swipeRight.text();\r\n    document.getElementById(\"btn_yes\").style.backgroundImage = \"url(\"+ currentRoom.swipeRight.img() + \")\";\r\n  }\r\n\r\nexport function getNewRoom(room, swipeActions, player){\r\n    if (player.getLevel() === 1) {\r\n        return room.roomGenerator.starting(player, swipeActions);\r\n    }\r\n    if (player.getLevel() % 5 === 0) {\r\n        var currentRoom = getObjectByRarity(room.forestLootList);\r\n        return room.roomGenerator[currentRoom.name](player, swipeActions);\r\n    }\r\n    else {       \r\n        var currentRoom = getObjectByRarity(room.forestMonsterList);\r\n        return room.roomGenerator[currentRoom.name](player, swipeActions);\r\n    }\r\n}\r\n\r\nexport function feedbackMessage(player, message){\r\n    player.thisRoom.isLastRoom = false; \r\n    player.thisRoom.nextRoom = {\r\n        swipeLeft: {\r\n            img: function () {return swipeleft_svg},\r\n            action: function() {\r\n                document.getElementById(\"feedback\").style.display = \"none\";\r\n                document.getElementById(\"filter-feedback\").style.display = \"none\";\r\n            },\r\n            text: function () {return \"Carte suivante\"},\r\n        },\r\n        swipeRight: {\r\n            img: function () {return swiperight_svg},\r\n            action: function() {\r\n                document.getElementById(\"feedback\").style.display = \"none\";\r\n                document.getElementById(\"filter-feedback\").style.display = \"none\";\r\n            },\r\n            text: function () {return \"Carte suivante\"},\r\n        }\r\n    }  \r\n    var feedbackMessage = document.getElementById(\"card\");\r\n    document.getElementById(\"filter-feedback\").style.display = \"block\";\r\n    document.getElementById(\"feedback\").style.display = \"block\";\r\n    document.getElementById(\"feedback\").innerHTML = message;\r\n}\r\n\r\nexport function gameOver(player, deathMessage){\r\n    player.stats.alive = false;\r\n    document.getElementById('gameover-message').innerHTML = deathMessage;\r\n    document.getElementById('gameover-lvl').innerHTML = player.stats.level;\r\n    document.getElementById('card-tracker').style.display = \"none\";\r\n    function retry(){\r\n        window.location.reload(false);\r\n    }\r\n    document.getElementById(\"gameover-retry\").addEventListener(\"click\", retry);\r\n    if(document.getElementById(\"feedback\").style.display != \"none\"){\r\n        setTimeout(function(){\r\n            document.getElementsByClassName(\"gameover\")[0].classList.add(\"on\")\r\n            document.getElementById('gameover-filter').style.display = \"block\";\r\n            document.getElementById('gameover-filter').style.opacity = \".75\";\r\n        }, 1500);   \r\n    }\r\n    else{\r\n        setTimeout(function(){ \r\n            document.getElementsByClassName(\"gameover\")[0].classList.add(\"on\")\r\n            document.getElementById('gameover-filter').style.display = \"block\";\r\n            document.getElementById('gameover-filter').style.opacity = \".75\";\r\n        }, 1500); \r\n    }\r\n}","import { getRandomNumber } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\n\r\nimport potionhp_svg from '../img/loot/potionhp.svg';\r\nimport coinsbag_svg from '../img/loot/coinsbag.svg';\r\nimport dumbbell_svg from '../img/loot/dumbbell.svg';\r\nimport magicbook_svg from '../img/loot/magicbook.svg';\r\n\r\nexport default {\r\n  generateHpPotion,\r\n  generateBagOfCoins,\r\n  generateSpinach,  \r\n  generateMagicBook,\r\n  generateSpeedShoes,\r\n  generateDumbBell,\r\n}\r\n\r\nfunction generateHpPotion(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"hppotion\",\r\n\t\ttext: function () {return \"Potion de vie (+5 Hp)\"},\r\n\t\timg: function () {return potionhp_svg},\r\n\t\taction: function() {\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateMagicMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"magicmushroom\",\r\n\t\ttext: function () {return \"Champignon magique (+5 MaxHp\"},\r\n\t\timg: function () {return \"champignon.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setMaxHp(\r\n\t\t\t\tplayer.getMaxHp() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateBagOfCoins(player, swipeActions){\r\n\tvar coinsGained = getRandomNumber(3, 6);\r\n  \treturn {\r\n  \t\tname: \"bagofcoins\",\r\n\t\ttext: function () {return \"Sac de pièces (\" + coinsGained + \" pièces)\" },\r\n\t\timg: function () {return coinsbag_svg},\r\n\t\taction: function() {\r\n\t\t\tplayer.setCoin(\r\n\t\t\t\tplayer.getCoin() + coinsGained\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSpinach(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"spinach\",\r\n\t\ttext: function () {return \"Épinards (+2 Hp, +2 Force\"},\r\n\t\timg: function () {return \"spinach.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 2, player\r\n\t\t\t);\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 2\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateMagicBook(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"magicbook\",\r\n\t\ttext: function () {return \"Livre sur la magie (+5 Intel)\"},\r\n\t\timg: function () {return magicbook_svg},\r\n\t\taction: function() {\r\n\t\t\tplayer.setIntel(\r\n\t\t\t\tplayer.getIntel() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSpeedShoes(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"speedshoes\",\r\n\t\ttext: function () {return \"Chaussures (+3 Agilité)\"},\r\n\t\timg: function () {return \"speedShoes.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() + 3\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateDumbBell(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"dumbbell\",\r\n\t\ttext: function () {return \"Haltères (+5 Force)\"},\r\n\t\timg: function () {return dumbbell_svg},\r\n\t\taction: function() {\r\n\t\t\tif(player.getIntel() >= 5){\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 5\r\n\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(Math.random() < 0.7){\r\n\t\t\t\t\tfeedbackMessage(player, \"Vous n'êtes pas assez intelligent pour porter l'haltère, vous vous êtes blaissé\")\r\n\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tplayer.setStr(\r\n\t\t\t\t\t\tplayer.getStr() + 5\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}","import { getRandomNumber } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\n\r\nimport feed_svg from '../img/actions/feed.svg';\r\nimport escape_svg from '../img/actions/escape.svg';\r\nimport givecoins_svg from '../img/actions/givecoins.svg';\r\nimport coinsbag_svg from '../img/loot/coinsbag.svg';\r\nimport scream_svg from '../img/actions/scream.svg';\r\n\r\nexport default {\r\n  generateAttack,\r\n  generateGiveCoins,\r\n  generateScream,\r\n  generateEscape,  \r\n  generateFeed,\r\n  generateSteal,\r\n}\r\n\r\nfunction generateAttack(player, swipeActions){\r\n\treturn {\r\n\t\tname: \"attack\",\r\n\t\tdamage: 3,\r\n\t\ttext: function () {return player.stats.defaultAttack},\r\n\t\timg: function () {return player.stats.weaponImg},\r\n\t\taction: function() {\r\n\t\t\tswitch(player.getRole()) {\r\n\t\t\t    case \"Mage\":\r\n\t\t\t        player.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n\t\t\t        break;\r\n\t\t\t    case \"Guerrier\":\r\n\t\t\t        player.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n\t\t\t        break;\r\n\t\t\t    case \"Archer\":\t\t        \r\n\t\t\t        if(Math.random() < 0.45){\r\n\t\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\t\tplayer.getHp() - this.damage * 2, player\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tfeedbackMessage(player, \"Vous avez raté votre cible\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tfeedbackMessage(player, \"Touché!\")\r\n\t\t\t\t\t}\r\n\t\t\t        break;\r\n\t\t\t    default:\r\n        \t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\r\n    \t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateGiveCoins(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"givecoins\",\r\n  \t\tcoinsGiven: getRandomNumber(1, 3),\r\n\t\ttext: function () {return \"Donner \" + this.coinsGiven + \" pièces\"},\r\n\t\timg: function () {return givecoins_svg},\r\n\t\taction: function () {\r\n\t\t\tif (player.getCoin() - this.coinsGiven < 0){\r\n\t\t\t\tfeedbackMessage(player, \"Tu n'as pas assez de pièces! J'aime pas les arnaqueurs moi!\");\r\n\t\t\t\tplayer.setCoin(0);\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 10, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(this.coinsGiven == 1){\r\n\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\tplayer.getCoin() - this.coinsGiven\r\n\t\t\t\t);\r\n\t\t\t\tplayer.thisRoom.isLastRoom = false;\t\t\r\n\t\t\t\t// Permet un noveau dialogue sur la même carte\r\n\t\t\t\tplayer.thisRoom.nextRoom = {\r\n\t\t\t\t\tdesc: \"Seulement une pièce ? Tu te fout de moi ?!\",\r\n\t\t\t\t\tswipeLeft: {\r\n\t\t\t\t\t\tcoinsGiven2: getRandomNumber(2, 5),\r\n\t\t\t\t\t\ttext: function () {return \"Donner \" + this.coinsGiven2 + \" pièces en plus\"},\r\n\t\t\t\t\t\timg: function () {return givecoins_svg},\r\n\t\t\t\t\t\taction: function() {\r\n\t\t\t\t\t\t\tif (player.getCoin() - this.coinsGiven2 < 0){\r\n\t\t\t\t\t\t\t\tfeedbackMessage(player, \"Tu n'as pas assez de pièces! J'aime pas les arnaqueurs moi!\");\r\n\t\t\t\t\t\t\t\tplayer.setCoin(0);\r\n\t\t\t\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\t\t\t\tplayer.getHp() - 10, player\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tfeedbackMessage(player, \"J'aime mieux ça!\");\r\n\t\t\t\t\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\t\t\t\t\tplayer.getCoin() - this.coinsGiven2\r\n\t\t\t\t\t\t\t\t);\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tswipeRight: swipeActions.actionsGenerator.attack(player, swipeActions),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\tplayer.getCoin() - this.coinsGiven\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\n\r\nfunction generateScream(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"scream\",\r\n\t\trequire: 10,\r\n\t\tdamage: 5,\r\n\t\ttext: function () {return \"Crier\"},\r\n\t\timg: function () {return scream_svg},\r\n\t\taction: function() {\r\n\t\t\tif (player.getStr() >= this.require) {\r\n\t\t\t\tfeedbackMessage(player, \"L'ennemi a eu peur et s'est enfuis\")\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(player, \"Votre cris n'est pas assez fort, gagnez un peu plus de force!\")\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateEscape(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"escape\",\r\n\t\ttext: function () {return \"S'échapper\"},\r\n\t\timg: function () {return escape_svg},\r\n\t\trequire: 8,\r\n\t\tdamage: 3,\r\n\t\taction: function() {\r\n\t\t\tif (player.getAgility() >= this.require) {\r\n\t\t\t\tif(Math.random() < 0.3 * 5 / player.getAgility()){\r\n\t\t\t\t\tfeedbackMessage(player, 'Pas de chance, vous avez trébuché sur une pierre')\r\n\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfeedbackMessage(player, \"Vous vous êtes enfuis avec succes\")\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(player, \"Vous n'êtes pas assez rapide! Ouch!\")\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateFeed(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"feed\",\r\n\t\ttext: function () {return \"Nourrir\"},\r\n\t\timg: function () {return feed_svg},\r\n\t\taction: function() {\r\n\t\t\tif(player.getAgility() <= 5){\r\n\t\t\t\tfeedbackMessage(player, \"Maladroit comme vous l'êtes, vous êtes tombé sur l'animal en le nourissant, il vous a attaqué\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(player.getIntel() <= 5){\r\n\t\t\t\tfeedbackMessage(player, \"Vous avez oublié de retirer votre main, l'animal l'a mangé, essayez d'être plus intelligent\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(player, \"L'animal a tout mangé et ne vous a pas attaqué\");\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSteal(player, swipeActions){\r\n\tvar coinsStealed = getRandomNumber(3, 10);\r\n  \treturn {\r\n  \t\tname: \"steal\",\r\n\t\ttext: function () {return \"Voler \" + coinsStealed + \" pièces\"},\r\n\t\timg: function () {return coinsbag_svg},\r\n\t\tdamage: 5,\r\n\t\taction: function() {\r\n\t\t\tif(Math.random() < 0.4 * 10 / player.getAgility()){\r\n\t\t\t\tfeedbackMessage(player, 'Vous avez été pris sur le fait')\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfeedbackMessage(player, \"Cool, \" + coinsStealed + \" pièces recuperées\")\r\n\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\tplayer.getCoin() + coinsStealed\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}","import { getRandomNumber } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\n\r\nimport sword_svg from '../img/actions/sword.svg';\r\nimport bow_svg from '../img/actions/bow.svg';\r\n\r\nexport default {\r\n  generateWand,\r\n  generateSword,\r\n  generateBow,\r\n}\r\n\r\nfunction generateWand(player, swipeActions){\r\n\treturn {\r\n\t\tname: \"wandstart\",\r\n\t\ttext: function () {return \"Prendre le baton\"},\r\n\t\timg: function () {return \"wand.png\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('Mage')\r\n\t\t\tplayer.setIntel(\r\n\t\t\t\tplayer.getIntel() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSword(player, swipeActions){\r\n\treturn {\r\n\t\tname: \"swordstart\",\r\n\t\ttext: function () {return \"Prendre l'épée\"},\r\n\t\timg: function () {return sword_svg},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('Guerrier')\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setMaxHp(\r\n\t\t\t\tplayer.getMaxHp() + 5\r\n\t\t\t);\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateBow(player, swipeActions){\r\n\treturn {\r\n\t\tname: \"bowstart\",\r\n\t\ttext: function () {return \"Prendre l'arc\"},\r\n\t\timg: function () {return bow_svg},\r\n\t\taction: function() {\r\n\t\t\tplayer.setRole('Archer')\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() + 5\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}","import { getRandomNumber } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\n\r\nimport eat_svg from '../img/actions/eat.svg';\r\nimport no_svg from '../img/actions/no.svg';\r\n\r\nexport default {\r\n  generateNoEat,\r\n\r\n  generateToxicMushroom,\r\n  generateSleepMushroom,\r\n  generateStupidMushroom,\r\n  generateMagicMushroom,\r\n  generateAgilityMushroom,\r\n  generateYummyMushroom,\r\n}\r\n\r\nfunction generateNoEat(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"no\",\r\n\t\ttext: function () {return \"Ne pas manger\"},\r\n\t\timg: function () {return no_svg},\r\n\t\taction: function() {\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateToxicMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"toxicMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"C'est un champignon toxique!\");\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t);\r\n\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateSleepMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"sleepMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"Ce champignon vous a amorti, endormi...\");\r\n\t\t\tplayer.setStr(\r\n\t\t\t\tplayer.getStr() - 2, player\r\n\t\t\t);\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() - 2, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateStupidMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"stupidMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"Vous avez perdu quelques neurones\");\r\n\t\t\tplayer.setIntel(\r\n\t\t\t\tplayer.getIntel() - 3, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\n\r\nfunction generateMagicMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"magicMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"Vous vous sentez plus grand\");\r\n\t\t\tplayer.setMaxHp(\r\n\t\t\t\tplayer.getMaxHp() + 3\r\n\t\t\t);\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 3, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateAgilityMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"agilityMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"Vous vous sentez plus vif\");\r\n\t\t\tplayer.setAgility(\r\n\t\t\t\tplayer.getAgility() + 2, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateYummyMushroom(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"yummyMushroom\",\r\n\t\ttext: function () {return \"Manger\"},\r\n\t\timg: function () {return eat_svg},\r\n\t\taction: function() {\r\n\t\t\tfeedbackMessage(player, \"Mhhh... il est délicieux!\");\r\n\t\t\tplayer.setHp(\r\n\t\t\t\tplayer.getHp() + 5, player\r\n\t\t\t);\r\n\t\t},\r\n\t}\r\n}\r\n\r\n","import { getRandomNumber } from '../utils';\r\nimport { getRandomArray } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\n\r\nimport feed_svg from '../img/actions/feed.svg';\r\nimport escape_svg from '../img/actions/escape.svg';\r\n\r\nexport default {\r\n  generateKillFrog,\r\n  generateFeedFrog,\r\n  generateTalkFrog,\r\n  generateKissFrog,  \r\n  generateEatFrog,\r\n}\r\n\r\nfunction generateKillFrog(player, swipeActions){\r\n\treturn {\r\n\t\tname: \"killfrog\",\r\n\t\tcoinsGiven: getRandomNumber(3, 8),\r\n\t\ttext: function () {return \"Dépecer\"},\r\n\t\timg: function () {return \"knife\"},\r\n\t\taction: function() {\r\n\t\t\tif(Math.random() < 0.3 * 10 / player.getAgility()){\r\n\t\t\tplayer.special.frogHater += 1;\r\n\t\t\tplayer.special.frogFriend = 0;\r\n\t\t\t\tif(Math.random() < 0.5){\r\n\t\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\t\tplayer.getCoin() + this.coinsGiven\r\n\t\t\t\t\t);\r\n\t\t\t\t\tvar message = \"Vous avez trouvé \" + this.coinsGiven + \" pièces dans son estomac\"\r\n\t\t\t\t\tfeedbackMessage(player, message);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfeedbackMessage(player, \"Cet exercice méticuleux a augmenté votre dextérité\");\r\n\t\t\t\t\tplayer.setAgility(\r\n\t\t\t\t\t\tplayer.getAgility() + 1\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfeedbackMessage(player, \"Ça ne vous a rien apporter à part la souffrance d'un animal...\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateFeedFrog(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"feedfrog\",\r\n  \t\tcoinsGiven: getRandomNumber(3, 8),\r\n\t\ttext: function () {return \"Nourrir\"},\r\n\t\timg: function () {return feed_svg},\r\n\t\taction: function () {\r\n\t\t\tplayer.special.frogFriend += 1;\r\n\t\t\tif(Math.random() < 0.20){\r\n\t\t\t\t\tplayer.setCoin(\r\n\t\t\t\t\t\tplayer.getCoin() + this.coinsGiven\r\n\t\t\t\t\t);\r\n\t\t\t\t\tvar message = this.coinsGiven + \" pièces sont tombées quand l'amphibien a ouvert la bouche pour manger\"\r\n\t\t\t\t\tfeedbackMessage(player, message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction generateTalkFrog(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"talkFrog\",\r\n\t\ttext: function () {return \"Lui parler\"},\r\n\t\timg: function () {return \"scream_svg\"},\r\n\t\taction: function() {\r\n\t\t\tplayer.thisRoom.isLastRoom = false;\t\r\n\t\t\tplayer.thisRoom.nextRoom = {\r\n\t\t\t\tdesc: \"Vous entendez un bruit bizarre mais difficile de distinguer si c'est une voix\",\r\n\t\t\t\tswipeLeft: {\r\n\t\t\t\t\ttext: function () {return \"Se raprocher\"},\r\n\t\t\t\t\timg: function () {return \"givecoins_svg\"},\r\n\t\t\t\t\taction: function() {\r\n\t\t\t\t\t\tif(img == frogregular_svg){\r\n\t\t\t\t\t\t\tif(player.special.frogFriend > 3){\r\n\t\t\t\t\t\t\t\tfeedbackMessage(player, \"Merci d'avoir nourrit mes amies, je t'offre ma bénédiction\")\r\n\t\t\t\t\t\t\t\tplayer.setMaxHp(\r\n\t\t\t\t\t\t\t\t\tplayer.getMaxHp() + 2\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\t\t\t\tplayer.getHp() + 2, player\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar message = getRandomArray([\r\n\t\t\t\t\t\t\t\t\t\"Croâ Croâ, t'es moche\",\r\n\t\t\t\t\t\t\t\t\t\"Croâ Croâ, si tu m'avais embrassé, je me serai transformé\",\r\n\t\t\t\t\t\t\t\t\t\"Croâ Croâ, tu sens mauvais\",\r\n\t\t\t\t\t\t\t\t\t\"Croâ Croâ, je veux un bisou magique\",\r\n\t\t\t\t\t\t\t\t])\r\n\t\t\t\t\t\t\tfeedbackMessage(player, message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tfeedbackMessage(player, \"Le crapaud vous a sauté dans la bouche, beurk!\")\r\n\t\t\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\t\t\tplayer.getHp() - 4, player\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tswipeRight: {\r\n\t\t\t\t\ttext: function () {return \"Partir\"},\r\n\t\t\t\t\timg: function () {return escape_svg},\r\n\t\t\t\t\taction: function() {},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateKissFrog(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"escape\",\r\n\t\ttext: function () {return \"S'échapper\"},\r\n\t\timg: function () {return escape_svg},\r\n\t\trequire: 8,\r\n\t\tdamage: 3,\r\n\t\taction: function() {\r\n\t\t\tif (player.getAgility() >= this.require) {\r\n\t\t\t\tif(Math.random() < 0.3 * 5 / player.getAgility()){\r\n\t\t\t\t\tfeedbackMessage(player, 'Pas de chance, vous avez trébuché sur une pierre')\r\n\t\t\t\t\tplayer.setHp(\r\n\t\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t\t);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfeedbackMessage(player, \"Vous vous êtes enfuis avec succes\")\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(player, \"Vous n'êtes pas assez rapide! Ouch!\")\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - this.damage, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction generateEatFrog(player, swipeActions){\r\n  \treturn {\r\n  \t\tname: \"feed\",\r\n\t\ttext: function () {return \"Nourrir\"},\r\n\t\timg: function () {return feed_svg},\r\n\t\taction: function() {\r\n\t\t\tif(player.getAgility() <= 5){\r\n\t\t\t\tfeedbackMessage(player, \"Maladroit comme vous l'êtes, vous êtes tombé sur l'animal en le nourissant, il vous a attaqué\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(player.getIntel() <= 5){\r\n\t\t\t\tfeedbackMessage(player, \"Vous avez oublié de retirer votre main, l'animal l'a mangé, essayez d'être plus intelligent\");\r\n\t\t\t\tplayer.setHp(\r\n\t\t\t\t\tplayer.getHp() - 5, player\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfeedbackMessage(player, \"L'animal a tout mangé et ne vous a pas attaqué\");\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t}\r\n}","import { getRandomNumber } from './utils';\r\nimport { feedbackMessage } from './game';\r\n\r\nimport loot from './actions/actionsLoots';\r\nimport monster from './actions/actionsMonsters';\r\nimport starting from './actions/actionsStarting';\r\nimport mushroom from './actions/actionsMushroom';\r\nimport frog from './actions/actionsFrog';\r\n\r\n// -------------------------------- EXPORT DEFAULT -------------------------------------------------- //\r\n\r\nexport default {\r\n  monsterGeneral: [\r\n  \t{name: 'escape', rarity: 1},\r\n  ],\r\n  monsterGeneralRogue: [\r\n  \t{name: 'escape', rarity: 1},\r\n  ],\r\n  monsterGeneralMage: [\r\n  \t//{name: 'fireball', rarity: 1},\r\n  ],\r\n  monsterGeneralWarrior: [\r\n  \t//{name: 'block', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterAnimals: [\r\n  \t{name: 'scream', rarity: 1},\r\n  \t{name: 'feed', rarity: 1},\r\n  \t//{name: 'pet', rarity: 1},\r\n  ],\r\n  monsterAnimalsRogue: [\r\n  \t//{name: 'trap', rarity: 1},\r\n  ],\r\n  monsterAnimalsIntelligence: [\r\n  \t{name: 'feed', rarity: 1},\r\n  \t//{name: 'pet', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterSmallCreature: [\r\n  \t{name: 'scream', rarity: 1},\r\n  ],\r\n\r\n\r\n  monsterHumanoid: [\r\n  ],\r\n  monsterHumanoidRogue: [\r\n  \t{name: 'steal', rarity: 1},\r\n  ],\r\n  monsterHumanoidAgility: [\r\n  \t{name: 'steal', rarity: 3},\r\n  ],\r\n\r\n\r\n  basicChest: [\r\n  \t{name: 'hpPotion', rarity: 10},\r\n  \t{name: 'bagOfCoins', rarity: 10},\r\n  \t{name: 'spinach', rarity: 0},\r\n  \t{name: 'magicBook', rarity: 4},\r\n  \t{name: 'speedShoes', rarity: 0},\r\n  \t{name: 'dumbBell', rarity: 4},\r\n  ],\r\n\r\n  mushroom: [\r\n  \t{name: 'toxicMushroom', rarity: 20},\r\n  \t{name: 'sleepMushroom', rarity: 12},\r\n  \t{name: 'stupidMushroom', rarity: 8},\r\n  \t{name: 'magicMushroom', rarity: 5},\r\n  \t{name: 'agilityMushroom', rarity: 10},\r\n  \t{name: 'yummyMushroom', rarity: 20},\r\n  ],\r\n\r\n  frog: [\r\n    {name: 'eatFrog', rarity: 0},\r\n    {name: 'kissFrog', rarity: 0},\r\n    {name: 'talkFrog', rarity: 10},\r\n    {name: 'feedFrog', rarity: 10},\r\n    {name: 'killFrog', rarity: 10},\r\n  ],\r\n\r\n  starting: [\r\n  \t//{name: 'wand', rarity: 1},\r\n  \t{name: 'sword', rarity: 1},\r\n  \t{name: 'bow', rarity: 1},\r\n  ],\r\n\r\n  actionsGenerator: {\r\n  \twand: starting.generateWand,\r\n  \tsword: starting.generateSword,\r\n  \tbow: starting.generateBow,\r\n\r\n  \ttoxicMushroom: mushroom.generateToxicMushroom,\r\n  \tsleepMushroom: mushroom.generateSleepMushroom,\r\n  \tstupidMushroom: mushroom.generateStupidMushroom,\r\n  \tmagicMushroom: mushroom.generateMagicMushroom,\r\n  \tagilityMushroom: mushroom.generateAgilityMushroom,\r\n  \tyummyMushroom: mushroom.generateYummyMushroom,\r\n\r\n  \teatFrog: frog.generateEatFrog,\r\n  \tkissFrog: frog.generateKissFrog,\r\n  \ttalkFrog: frog.generateTalkFrog,\r\n  \tfeedFrog: frog.generateFeedFrog,\r\n  \tkillFrog: frog.generateKillFrog,\r\n\r\n\r\n  \thpPotion: loot.generateHpPotion,\r\n  \tbagOfCoins: loot.generateBagOfCoins,\r\n  \tspinach: loot.generateSpinach,\r\n  \tmagicBook: loot.generateMagicBook,\r\n  \tspeedShoes: loot.generateSpeedShoes,\r\n  \tdumbBell: loot.generateDumbBell,\r\n\r\n  \tescape: monster.generateEscape,\r\n  \tscream: monster.generateScream,\r\n  \tfeed: monster.generateFeed,\r\n  \tsteal: monster.generateSteal,\r\n\r\n  \tattack: monster.generateAttack,\r\n  \tnoEat: mushroom.generateNoEat,\r\n  \tgiveCoins: monster.generateGiveCoins,\r\n  }\r\n  /*\r\n  Faire des actions complexes (en plusieurs cartes)\r\n  ça rend les actions plus intéressantes que d'avoir \r\n  une seule réponse (50% de chance de réussite et c'est tout)\r\n\r\n  Et fonctionner avec plus d'actions typique à la classe\r\n\r\n  certaines actions peuvent loot un objet certaine non\r\n  (s'echapper ne permettra pas de loot d'objet)\r\n  les loot sont en général des choix entre deux objets\r\n  certaines actions finissent le combat, d'autres pas.\r\n  Voler des pièces en voleur ne finit pas le combat?\r\n  Quand une action rate ça ne finit pas le combat?\r\n  \r\n\r\n  Action \"préparer son armure\"\r\n  prend du dmg maintenant mais pas la prochaine carte\r\n  ou donne un certain nombre d'armure\r\n\r\n  action \"coup de bouclier\"\r\n  si on a de l'armure a beaucoup de chance d'arriver\r\n  et permet de ne pas prendre de dmg\r\n\r\n  classe guerrier passif: berserk, si le guerrier a moins de 20% de pv\r\n  il se passe quelqueschose, plus de dmg, accès à d'autres abilité\r\n  (Plus de chance de chopper des loot par exemple)\r\n\r\n  Objet bière : gagner 10pv mais rend les 5 prochaines actions aléateoire\r\n  \r\n  */\r\n};\r\n\r\n","import { createAvailableActions } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\nimport { generateTwoActionsNoDupe } from '../utils';\r\nimport { getRandomNumber } from '../utils';\r\nimport { getObjectByRarity } from '../utils';\r\n\r\nimport goblin_svg from '../img/monsters/goblin.svg';\r\nimport spider_svg from '../img/monsters/spider.svg';\r\nimport frogregular_svg from '../img/monsters/frog-regular.svg';\r\nimport frogtoxic_svg from '../img/monsters/frog-toxic.svg';\r\n\r\n\r\n\r\nexport default {\r\n  rogueGenerator,\r\n  wolfGenerator,\r\n  spiderGenerator,\r\n  gobelinGenerator,  \r\n  frogGenerator,\r\n}\r\n\r\n  function rogueGenerator(player, swipeActions) {\r\n    var name = 'gobelin voleur';\r\n    var img = goblin_svg;\r\n    var desc = \"Donne moi des pièces ou je te tue!\";\r\n    var swipeLeft = swipeActions.actionsGenerator.giveCoins(player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n  function spiderGenerator(player, swipeActions) {\r\n    var name = 'araignée géante';\r\n    var img = spider_svg;\r\n    var desc = \"*Elle est prête à bondir*\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterAnimals',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n    if(swipeLeft.name == \"feed\"){\r\n      var desc = \"*On dirait qu'elle veut te manger*\";\r\n      swipeLeft.damage = 2;\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n\r\n  function gobelinGenerator(player, swipeActions) {\r\n    var name = 'Petit gobelin';\r\n    var img = goblin_svg;\r\n    var desc = \"Je vais te dépouiller!\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterHumanoid',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  } \r\n  \r\n\r\n  function frogGenerator(player, swipeActions) {\r\n    var name = 'Un amphibien';\r\n    var img = frogregular_svg;\r\n    var desc = \"Croâ Croâ!\";\r\n    var availableActions = swipeActions.frog;\r\n    var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n    var swipeLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player, swipeActions);\r\n    // Exceptions \r\n    if(Math.random() < 0.50){\r\n      var img = frogregular_svg;\r\n    }\r\n    else{\r\n      var img = frogtoxic_svg;\r\n    }\r\n\r\n    if(Math.random() < 0.60){\r\n      var desc = \"Croâ Croâ!\";\r\n    }\r\n    else{\r\n      var desc = \"Est-ce un crapaud ou une grenouille ?\";\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n  \r\n  function wolfGenerator(player, swipeActions) {\r\n    var name = 'loup sauvage';\r\n    var img = 'gobelin.svg';\r\n    var desc = \"*Le loup hurle et fonce sur toi*\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterAnimals',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n\r\n    if(swipeLeft.name == \"scream\"){\r\n      var desc = \"*Le loup vous regarde avec des yeux rouges*\";\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n","import { createAvailableActions } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\nimport { generateTwoActionsNoDupe } from '../utils';\r\nimport { getRandomNumber } from '../utils';\r\nimport { getObjectByRarity } from '../utils';\r\nimport { shuffle } from '../utils';\r\n\r\nimport mushroomA1_svg from '../img/monsters/mushroom-a1.svg';\r\nimport mushroomA2_svg from '../img/monsters/mushroom-a2.svg';\r\nimport mushroomB1_svg from '../img/monsters/mushroom-b1.svg';\r\nimport mushroomB2_svg from '../img/monsters/mushroom-b2.svg';\r\nimport mushroomC1_svg from '../img/monsters/mushroom-c1.svg';\r\nimport mushroomC2_svg from '../img/monsters/mushroom-c2.svg';\r\n\r\nvar mushrooms = [mushroomA1_svg, mushroomA2_svg, mushroomB1_svg, mushroomB2_svg, mushroomC1_svg, mushroomC2_svg]\r\nmushrooms = shuffle(mushrooms);\r\n\r\n\r\n\r\nexport default{\r\n  basicChestGenerator,\r\n  mushroomGenerator,\r\n}\r\n\r\nfunction basicChestGenerator(player, swipeActions) {\r\n    var name = \"coffre\";\r\n    var desc = \"Il y a deux objets dans ce coffre, lequel utiliser ?\";\r\n    var img = \"coffre.png\";\r\n\r\n    var availableActions = swipeActions.basicChest;\r\n    var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n    var swipeLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player, swipeActions);\r\n    return {\r\n      name: name,\r\n      desc: desc, \r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\nfunction mushroomGenerator(player, swipeActions) {\r\n    var name = \"Champignon étrange\";\r\n    var desc = \"Il a l'air commestible, je tente de le manger ?\";\r\n    var img = mushroomA1_svg;\r\n    var availableActions = swipeActions.mushroom;\r\n    var swipeLeft = swipeActions.actionsGenerator.noEat(player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n\r\n    if(swipeRight.name == \"toxicMushroom\"){\r\n      var img = mushrooms[0];\r\n    }\r\n    if(swipeRight.name == \"yummyMushroom\"){\r\n      var img = mushrooms[1];\r\n    }\r\n    if(swipeRight.name == \"sleepMushroom\"){\r\n      var img = mushrooms[2];\r\n    }\r\n    if(swipeRight.name == \"agilityMushroom\"){\r\n      var img = mushrooms[3];\r\n    }\r\n    if(swipeRight.name == \"stupidMushroom\"){\r\n      var img = mushrooms[4];\r\n    }\r\n    if(swipeRight.name == \"magicMushroom\"){\r\n      var img = mushrooms[5];\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc, \r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n","import { createAvailableActions } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\nimport { generateTwoActionsNoDupe } from '../utils';\r\nimport { getRandomNumber } from '../utils';\r\nimport { getObjectByRarity } from '../utils';\r\n\r\nimport forgeron_svg from '../img/monsters/forgeron.svg';\r\n\r\nexport default {\r\n  startingGenerator\r\n};\r\n  \r\n\r\nfunction startingGenerator(player, swipeActions) {\r\n  var name = 'Forgeron';\r\n  var desc = 'Equipe toi aventurier';\r\n  var img = forgeron_svg;\r\n\r\n  var availableActions = swipeActions.starting;\r\n  var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n  var actionLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player, swipeActions);\r\n  var actionRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player, swipeActions);\r\n  return {\r\n    name: name,\r\n    desc: desc, \r\n    img: img,\r\n    swipeLeft: actionLeft,\r\n    swipeRight: actionRight,\r\n  }\r\n}\r\n\r\n","import { createAvailableActions } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\nimport { generateTwoActionsNoDupe } from '../utils';\r\nimport { getRandomNumber } from '../utils';\r\nimport { getObjectByRarity } from '../utils';\r\n\r\nexport default {\r\n  rogueGenerator,\r\n  wolfGenerator,\r\n  spiderGenerator,\r\n  gobelinGenerator,  \r\n  hugeOgreGenerator,\r\n}\r\n\r\n  function rogueGenerator(player, swipeActions) {\r\n    var name = 'voleur';\r\n    var img = 'voleur.png';\r\n    var desc = \"Donne moi des pièces ou je te tue!\";\r\n    var swipeLeft = swipeActions.actionsGenerator.giveCoins(player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n\r\n  function wolfGenerator(player, swipeActions) {\r\n    var name = 'loup sauvage';\r\n    var img = 'wolf.png';\r\n    var desc = \"*Le loup hurle et fonce sur toi*\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterAnimals',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n\r\n    if(swipeLeft.name == \"scream\"){\r\n      var desc = \"*Le loup vous regarde avec des yeux rouges*\";\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n  function spiderGenerator(player, swipeActions) {\r\n    var name = 'araignée géante';\r\n    var img = 'spider.png';\r\n    var desc = \"*Elle est prête à bondir*\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterAnimals',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n\r\n    if(swipeLeft.name == \"feed\"){\r\n      var desc = \"*On dirait qu'elle veut te manger*\";\r\n      swipeLeft.damage = 2;\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n\r\n  function gobelinGenerator(player, swipeActions) {\r\n    var name = 'Petit gobelin';\r\n    var img = 'gobelin.png';\r\n    var desc = \"Je suis sur que tu as pleins de pièces d'or sur toi!\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterHumanoid',\r\n    ]);\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n  function hugeOgreGenerator(player, swipeActions) {\r\n    var name = 'Enorme Ogre';\r\n    var img = 'ogre.png';\r\n    var desc = \"*Il a l'air plutôt robuste*\";\r\n    var availableActions = createAvailableActions(player, swipeActions,[\r\n      'monsterGeneral',\r\n      'monsterHumanoid',\r\n    ]);\r\n    // ajouter l'action fuir en gros nombre dans les availableactions car ça doit arriver plus souvent pour ce mob\r\n    var swipeLeft = swipeActions.actionsGenerator[getObjectByRarity(availableActions).name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator.attack(player, swipeActions);\r\n    // Exceptions \r\n    // Prend plus de dmg en général, sur la fuite etc.\r\n    // Il a l'air facile a esquiver en description (50% de chance d'avoir cette description)\r\n    swipeLeft.damage = 5\r\n    if(swipeLeft.name == \"escape\"){\r\n      var descF = function() {if(Math.random() < 0.30){return\"*Il a l'air facile à esquiver*\"} else{return\"*Il a l'air plutôt robuste*\"}}\r\n      desc = descF();\r\n      swipeLeft.require = 2\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      desc: desc,\r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }\r\n\r\n  \r\n\r\n","import { createAvailableActions } from '../utils';\r\nimport { feedbackMessage } from '../game';\r\nimport { generateTwoActionsNoDupe } from '../utils';\r\nimport { getRandomNumber } from '../utils';\r\nimport { getObjectByRarity } from '../utils';\r\n\r\nimport chest_svg from '../img/monsters/chest.svg';\r\n\r\nexport default{\r\n  basicChestGenerator,\r\n}\r\n\r\nfunction basicChestGenerator(player, swipeActions) {\r\n    var name = \"coffre\";\r\n    var desc = \"Il y a deux objets dans ce coffre, lequel prendre ?\";\r\n    var img = chest_svg;\r\n\r\n    var availableActions = swipeActions.basicChest;\r\n    var actionNoDupe = generateTwoActionsNoDupe(availableActions);\r\n    var swipeLeft = swipeActions.actionsGenerator[actionNoDupe[0].name](player, swipeActions);\r\n    var swipeRight = swipeActions.actionsGenerator[actionNoDupe[1].name](player, swipeActions);\r\n    return {\r\n      name: name,\r\n      desc: desc, \r\n      img: img, \r\n      swipeLeft: swipeLeft,\r\n      swipeRight: swipeRight,\r\n    }\r\n  }","import { getRandomNumber } from './utils';\r\nimport { getObjectByRarity } from './utils';\r\nimport swipeActions from './swipeActions';\r\n\r\nimport forestMonster from './rooms/forestMonster';\r\nimport forestLoot from './rooms/forestLoot';\r\n\r\nimport startingroom from './rooms/startingroom';\r\nimport monsters from './rooms/monsters';\r\nimport chest from './rooms/chest';\r\n\r\n\r\nexport default {\r\n  forestMonsterList : [\r\n    {name: 'wolf', rarity: 0},\r\n    {name: 'rogue', rarity: 2},\r\n    {name: 'gobelin', rarity: 3},\r\n    {name: 'spider', rarity: 0},\r\n    {name: 'shroom', rarity: 5},\r\n    {name: 'frog', rarity: 50},\r\n  ],\r\n\r\n  forestLootList : [\r\n    {name: 'shroom', rarity: 2},\r\n    {name: 'basicChest', rarity: 5},\r\n  ],\r\n\r\n  roomGenerator : {\r\n    starting: startingroom.startingGenerator,\r\n\r\n    shroom: forestLoot.mushroomGenerator,\r\n    wolf: forestMonster.wolfGenerator,\r\n    rogue: forestMonster.rogueGenerator,\r\n    gobelin: forestMonster.gobelinGenerator,\r\n    spider: forestMonster.spiderGenerator,\r\n    frog: forestMonster.frogGenerator,\r\n    basicChest: chest.basicChestGenerator,\r\n    ogre: monsters.hugeOgreGenerator,\r\n  }\r\n}\r\n\r\n\r\n/*\r\n    Sérieusement les actions ont besoins d'avoir accès aux info du monstre (qui a l'action)\r\n    pour pouvoir personnalisé les feedbackMessage\r\n    Les actions doivent aussi avoir accès aux loot car on peut loot des objets avec certaines actions\r\n\r\n    Mettre au point le systeme de require (le niveau requis pour qu'une action marche, et le % de réussite)\r\n    Mettre au point le systeme de difficulté progressive(plus difficile de réussir les actions en fonction du niveau)\r\n\r\n\r\n\r\n    Monstre zombie : si tu lui suce le sang (si ton perso est devenu un vampire)\r\n    tu perds de la vie, tu attrappe une maladie(prendre du dmg sur plusieurs tour)\r\n\r\n    possibilité d'apprendre des nouvelles aptitudes au près de personnage divers\r\n\r\n    ce serait une bonne idée de ne pas avoir le choix de droit lock sur une action!\r\n    --> mettre en point un algorithme qui permet d'avoir toujours 2 choix sensé ?\r\n    --> peut être juste deux type d'action, les actions attaques (à droite)\r\n    --> et les actions plus funky à gauche\r\n\r\n*/\r\n/*\r\n\r\n    est ce qu'on met un systeme de vie au monstres ?? si oui comment ça fonctionne?\r\n    avec des action dans le genre nourrir, caresser l'animal, crier etc.\r\n    est ce que les dmg du monstre seraient indiquer sur la carte (bof, bof..)\r\n    \r\n    Scenario:\r\n    - on commence dans une auberge\r\n    - un personnage nous parle d'un trésor qui rend immortel caché dans la forêt\r\n    - grosse partie de dialogue\r\n    - finalement on décide de partir à la recherche du trésor\r\n    - que prendre pour partir à l'aventure (un arc, une épée ou un baton magique?)\r\n    - aller dans la forêt maudite où pourrait trouver le fameux trésor\r\n    - On peut passer par différentes zone, le chemin feuillu ou le chemin aux arbres morts\r\n    - puis après quelqu'un indique la direction du trésor, dans une grotte par exemple\r\n    - le perso rentre dans la grotte pour y trouver le fameux trésor\r\n\r\n*/","import { getRandomNumber } from './utils';\r\nimport { gameOver } from './game';\r\n\r\nimport sword_svg from './img/actions/sword.svg';\r\n\r\nexport default {\r\n  stats: {\r\n    hp: 20,\r\n    maxHp: 20,\r\n    coin: 5,\r\n    str: getRandomNumber(3, 7),\r\n    intel: getRandomNumber(3, 7),\r\n    agility: getRandomNumber(3, 7),\r\n    level: 1,\r\n    roleStats: 5,\r\n    role: \"Aventurier\",\r\n    weapon: \"sword\",\r\n    weaponImg: \"sword.png\",\r\n    defaultAttack: \"Attaquer\",\r\n    alive: true,\r\n  },  \r\n  thisRoom: {\r\n    isLastRoom: true,\r\n    nextRoom: function() {console.log(\"newRoom\")},\r\n  },\r\n  special: {\r\n    frogFriend: 0,\r\n    frogHater: 0,\r\n  },\r\n  setHp: function(nbr, player) {\r\n    if(nbr <= 0){\r\n      this.stats.hp = 0;\r\n      gameOver(player, \"Vous êtes mort!\");\r\n    }\r\n    if(nbr > player.getMaxHp()){\r\n      this.stats.hp = player.getMaxHp();\r\n    }\r\n    else{\r\n      this.stats.hp = nbr;\r\n    }\r\n    document.getElementById(\"hpRemaining\").style.width = this.stats.hp / player.getMaxHp() * 100 + \"%\";\r\n  },\r\n  getHp: function() {\r\n    return this.stats.hp;\r\n  },\r\n  setMaxHp: function(nbr) {\r\n    this.stats.maxHp = nbr;\r\n  },\r\n  getMaxHp: function() {\r\n    return this.stats.maxHp;\r\n  },\r\n  setCoin: function(nbr) {\r\n    if(this.stats.coin < nbr ){\r\n      document.getElementById(\"stats_coins\").classList.add(\"stats-up\");\r\n      setTimeout(function(){ document.getElementById(\"stats_coins\").classList.remove(\"stats-up\"); }, 500);\r\n    }\r\n    if(this.stats.coin > nbr ){\r\n      document.getElementById(\"stats_coins\").classList.add(\"stats-down\");\r\n      setTimeout(function(){ document.getElementById(\"stats_coins\").classList.remove(\"stats-down\"); }, 500);\r\n    }\r\n    this.stats.coin = nbr;\r\n  },\r\n  getCoin: function() {\r\n    return this.stats.coin;\r\n  },\r\n  setStr: function(nbr) {\r\n    if(this.stats.str < nbr ){\r\n      document.getElementById(\"stats_str\").classList.add(\"stats-up\");\r\n      setTimeout(function(){ document.getElementById(\"stats_str\").classList.remove(\"stats-up\"); }, 500);\r\n    }\r\n    if(this.stats.str > nbr ){\r\n      document.getElementById(\"stats_str\").classList.add(\"stats-down\");\r\n      setTimeout(function(){ document.getElementById(\"stats_str\").classList.remove(\"stats-down\"); }, 500);\r\n    }\r\n    this.stats.str = nbr;\r\n  },\r\n  getStr: function() {\r\n    return this.stats.str;\r\n  },\r\n  setIntel: function(nbr) {\r\n    if(this.stats.intel < nbr ){\r\n      document.getElementById(\"stats_intel\").classList.add(\"stats-up\");\r\n      setTimeout(function(){ document.getElementById(\"stats_intel\").classList.remove(\"stats-up\"); }, 500);\r\n    }\r\n    if(this.stats.intel > nbr ){\r\n      document.getElementById(\"stats_intel\").classList.add(\"stats-down\");\r\n      setTimeout(function(){ document.getElementById(\"stats_intel\").classList.remove(\"stats-down\"); }, 500);\r\n    }\r\n    this.stats.intel = nbr;\r\n  },\r\n  getIntel: function() {\r\n    return this.stats.intel;\r\n  },\r\n  setAgility: function(nbr) {\r\n    if(this.stats.agility < nbr ){\r\n      document.getElementById(\"stats_agility\").classList.add(\"stats-up\");\r\n      setTimeout(function(){ document.getElementById(\"stats_agility\").classList.remove(\"stats-up\"); }, 500);\r\n    }\r\n    if(this.stats.agility > nbr ){\r\n      document.getElementById(\"stats_agility\").classList.add(\"stats-down\");\r\n      setTimeout(function(){ document.getElementById(\"stats_agility\").classList.remove(\"stats-down\"); }, 500);\r\n    }\r\n    this.stats.agility = nbr;\r\n  },\r\n  getAgility: function() {\r\n    return this.stats.agility;\r\n  },\r\n  setLevel: function(nbr) {\r\n    this.stats.level = nbr;\r\n  },\r\n  getLevel: function() {\r\n    return this.stats.level;\r\n  },\r\n  setRole: function(role) {\r\n    this.stats.role = role;\r\n  },\r\n  getRole: function() {\r\n    return this.stats.role;\r\n  },\r\n  setRoleStats: function(nbr) {\r\n    this.stats.roleStats = nbr;\r\n  },\r\n  getRoleStats: function() {\r\n    return this.role.mainStats;\r\n  },\r\n};\r\n\r\nexport function gainLevel(player) { player.setLevel(player.getLevel() + 1); }","import room from './room';\r\nimport player from './player';\r\nimport swipeActions from './swipeActions';\r\n\r\nimport { randomProperties } from './utils';\r\n\r\nimport { writeStats } from './game';\r\nimport { writeRoom } from './game';\r\nimport { getNewRoom } from './game';\r\n\r\nimport { gainLevel } from './player';\r\n\r\n$(document).ready(function(){\r\n\r\n\tvar currentRoom = getNewRoom(room, swipeActions, player);\r\n\twriteStats(player);\r\n\twriteRoom(currentRoom);\r\n\tconsole.log(player);\r\n\r\n\r\n\tvar card = document.getElementsByClassName('card-visible')[0];\r\n\tvar cardback = document.getElementById('cardback');\r\n\tvar tracker = document.getElementById('card-tracker');\r\n\tvar mc = new Hammer(tracker);\r\n\r\n\t// add a \"PAN\" recognizer to it (all directions)\r\n\tmc.add( new Hammer.Pan({ direction: Hammer.DIRECTION_HORIZONTAL, threshold: 20 }) );\r\n\r\n\t// tie in the handler that will be called\r\n\tmc.on(\"pan\", handleDrag);\r\n\r\n\tvar lastPosX = 0;\r\n\tvar lastPosY = 0;\r\n\tvar isDragging = false;\r\n\tfunction handleDrag(ev) {\r\n\t  \r\n\t  // for convience, let's get a reference to our object\r\n\t  var elem = ev.target;\r\n\t  \r\n\t  // DRAG STARTED\r\n\t  // here, let's snag the current position\r\n\t  // and keep track of the fact that we're dragging\r\n\t  if ( ! isDragging ) {\r\n\t    isDragging = true;\r\n\t    lastPosX = elem.offsetLeft;  \r\n\t  }\r\n\t  \r\n\t   if (elem.offsetLeft > 50) {\r\n\t      card.classList.add(\"yes\");\r\n\t      card.classList.remove(\"no\");\r\n\t  }\r\n\t  else if (elem.offsetLeft < -50) {\r\n\t      card.classList.add(\"no\");\r\n\t      card.classList.remove(\"yes\");\r\n\t  }\r\n\t  else{\r\n\t    card.classList.remove(\"yes\");\r\n\t    card.classList.remove(\"no\");\r\n\t  }\r\n\t  \r\n\t  // we simply need to determine where the x,y of this\r\n\t  // object is relative to where it's \"last\" known position is\r\n\t  // NOTE: \r\n\t  //    deltaX and deltaY are cumulative\r\n\t  // Thus we need to always calculate 'real x and y' relative\r\n\t  // to the \"lastPosX/Y\"\r\n\t  var posX = ev.deltaX + lastPosX;\r\n\t  \r\n\t  // move our element to that position\r\n\t  elem.style.left = posX + \"px\";\r\n\t  \r\n\t \r\n\t  \r\n\t  // DRAG ENDED\r\n\t  // this is where we simply forget we are dragging\r\n\t  if (ev.isFinal) {\r\n\t    isDragging = false;\r\n\t    \r\n\t    if (elem.offsetLeft > 50) {\r\n\t      elem.style.left = 0 + \"px\";\r\n\t      card.classList.add(\"yesFade\");\r\n\t      card.classList.remove(\"noFade\");\r\n\t      setTimeout(function(){ card.classList.remove(\"yesFade\"); card.classList.remove(\"yes\"); }, 200);\r\n\t      \tplayer.thisRoom.isLastRoom = true;\r\n\t      \tcurrentRoom.swipeRight.action();\r\n\t      \tif(player.thisRoom.isLastRoom == false){\r\n\t\t\t\tif (player.thisRoom.nextRoom.desc != undefined){currentRoom.desc = player.thisRoom.nextRoom.desc;}\r\n\t      \t\tcurrentRoom.swipeLeft = player.thisRoom.nextRoom.swipeLeft;\r\n\t      \t\tcurrentRoom.swipeRight = player.thisRoom.nextRoom.swipeRight;\r\n\t      \t\twriteStats(player);\r\n\t      \t\twriteRoom(currentRoom);\t\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\twriteStats(player);\r\n\t\t\t\tif(player.stats.alive){\r\n\t\t\t\t\tcard.classList.add(\"yes-swipe\");\r\n\t\t\t\t\tcard.classList.remove(\"front\")\r\n\t\t    \t\tcardback.classList.remove(\"back\")\r\n\t\t\t\t\tsetTimeout(function(){ \r\n\t\t\t\t\t\tgainLevel(player);\r\n\t\t\t\t\t\tcurrentRoom = getNewRoom(room, swipeActions, player);\t\t\r\n\t\t\t\t\t\twriteRoom(currentRoom);  \r\n\t\t\t\t\t\tdocument.getElementById(\"card\").classList.remove(\"feedback-message\");\r\n\t\t\t\t\t\tcard.classList.remove(\"yes-swipe\");\r\n\t\t\t\t\t\tcard.classList.add(\"front\")\r\n\t\t\t    \t\tcardback.classList.add(\"back\")\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t    }\r\n\t    else if (elem.offsetLeft < -50) {\r\n\t      elem.style.left = 0 + \"px\"; \r\n\t      card.classList.add(\"noFade\");\r\n\t      card.classList.remove(\"yesFade\");\r\n\t      setTimeout(function(){ card.classList.remove(\"noFade\"); card.classList.remove(\"no\"); }, 200);\r\n\t      \tplayer.thisRoom.isLastRoom = true;\r\n\t      \tcurrentRoom.swipeLeft.action();\r\n\t      \tif(player.thisRoom.isLastRoom == false){\r\n\t      \t\tif (player.thisRoom.nextRoom.desc != undefined){currentRoom.desc = player.thisRoom.nextRoom.desc;}\r\n\t      \t\tcurrentRoom.swipeLeft = player.thisRoom.nextRoom.swipeLeft;\r\n\t      \t\tcurrentRoom.swipeRight = player.thisRoom.nextRoom.swipeRight;\r\n\t      \t\twriteStats(player);\r\n\t      \t\twriteRoom(currentRoom);\t\r\n\t\t    }\r\n\t    \telse{\r\n\t    \t\twriteStats(player);\r\n\t    \t\tif(player.stats.alive){\r\n\t\t    \t\tcard.classList.add(\"no-swipe\");\r\n\t\t    \t\tcard.classList.remove(\"front\")\r\n\t\t\t    \tcardback.classList.remove(\"back\")\r\n\t\t    \t\tsetTimeout(function(){\r\n\t\t    \t\t\tgainLevel(player);\r\n\t\t\t    \t\tcurrentRoom = getNewRoom(room, swipeActions, player);\r\n\t\t\t    \t\twriteRoom(currentRoom);\t\r\n\t\t\t    \t\tdocument.getElementById(\"card\").classList.remove(\"feedback-message\");\r\n\t\t\t    \t\tcard.classList.remove(\"no-swipe\");\r\n\t\t\t    \t\tcard.classList.add(\"front\")\r\n\t\t\t    \t\tcardback.classList.add(\"back\")\r\n\t\t    \t\t}, 500); \t\r\n\t\t    \t}\r\n\t    \t}\r\n\t    }\r\n\t    else{\r\n\t      elem.style.left = 0 + \"px\";\r\n\t      card.classList.remove(\"yesFade\");\r\n\t      card.classList.remove(\"noFade\");\r\n\t    }\r\n\t  }\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}